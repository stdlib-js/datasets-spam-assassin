{"id":"00251","group":"easy-ham-2","checksum":{"type":"MD5","value":"c5d9eca7f5a2aabbb152e26bef36eb55"},"text":"From ilug-admin@linux.ie  Tue Aug  6 11:53:18 2002\nReturn-Path: <ilug-admin@linux.ie>\nDelivered-To: yyyy@localhost.netnoteinc.com\nReceived: from localhost (localhost [127.0.0.1])\n\tby phobos.labs.netnoteinc.com (Postfix) with ESMTP id 1A320441E8\n\tfor <jm@localhost>; Tue,  6 Aug 2002 06:48:22 -0400 (EDT)\nReceived: from phobos [127.0.0.1]\n\tby localhost with IMAP (fetchmail-5.9.0)\n\tfor jm@localhost (single-drop); Tue, 06 Aug 2002 11:48:22 +0100 (IST)\nReceived: from lugh.tuatha.org (root@lugh.tuatha.org [194.125.145.45]) by\n    dogma.slashnull.org (8.11.6/8.11.6) with ESMTP id g74BcHv26639 for\n    <jm-ilug@jmason.org>; Sun, 4 Aug 2002 12:38:17 +0100\nReceived: from lugh (root@localhost [127.0.0.1]) by lugh.tuatha.org\n    (8.9.3/8.9.3) with ESMTP id MAA18508; Sun, 4 Aug 2002 12:36:24 +0100\nReceived: from mel-rto2.wanadoo.fr (smtp-out-2.wanadoo.fr\n    [193.252.19.254]) by lugh.tuatha.org (8.9.3/8.9.3) with ESMTP id MAA18475\n    for <ilug@linux.ie>; Sun, 4 Aug 2002 12:36:18 +0100\nX-Authentication-Warning: lugh.tuatha.org: Host smtp-out-2.wanadoo.fr\n    [193.252.19.254] claimed to be mel-rto2.wanadoo.fr\nReceived: from mel-rta8.wanadoo.fr (193.252.19.79) by mel-rto2.wanadoo.fr\n    (6.5.007) id 3D49FBEC000CB353 for ilug@linux.ie; Sun, 4 Aug 2002 13:35:46\n    +0200\nReceived: from bolsh.wanadoo.fr (80.8.224.71) by mel-rta8.wanadoo.fr\n    (6.5.007) id 3D49FF79000BE9E5 for ilug@linux.ie; Sun, 4 Aug 2002 13:35:46\n    +0200\nReceived: from dave by bolsh.wanadoo.fr with local (Exim 3.32 #1 (Debian))\n    id 17bJkP-0005ty-00 for <ilug@linux.ie>; Sun, 04 Aug 2002 13:40:33 +0200\nDate: Sun, 4 Aug 2002 13:40:33 +0200\nFrom: David Neary <dneary@wanadoo.fr>\nTo: ILUG <ilug@linux.ie>\nSubject: Re: [ILUG] One Command -- Four Types\nMessage-Id: <20020804134033.A22333@wanadoo.fr>\nReferences: <200208041036.g74AaBr31977@cdm01.deedsmiscentral.net>\nMIME-Version: 1.0\nContent-Type: text/plain; charset=iso-8859-15\nContent-Disposition: inline\nIn-Reply-To: <200208041036.g74AaBr31977@cdm01.deedsmiscentral.net>\nUser-Agent: Mutt/1.3.23i\nSender: ilug-admin@linux.ie\nErrors-To: ilug-admin@linux.ie\nX-Mailman-Version: 1.1\nPrecedence: bulk\nList-Id: Irish Linux Users' Group <ilug.linux.ie>\nX-Beenthere: ilug@linux.ie\n\nSoloCDM wrote:\n> How are there four (/bin/dnsdomainname /bin/domainname\n> /bin/nisdomainname /bin/ypdomainname) different types of hostname\n> links with their own separate options?\n\nThe program has different behaviour depending on the value of\nargv[0], probably...\n\nhere's a simple example...\n\n#include <stdio.h>\n#include <stdlib.h>\n#include <string.h>\n\nlong int add(long int a, long int b)\n{\n  return a+b;\n}\n\nlong int subtract(long int a, long int b)\n{\n  return a-b;\n}\n\nint main(int argc, char **argv)\n{\n  long int a, b; /* Operands */\n  long int (*operation)(long int a, long int b);\n  char *progname, *marker;\n\n  if(argc != 3)\n  {\n    fprintf(stderr, \"Usage: %s [int1] [int2]\\n\", argv[0]);\n    exit(1);\n  }\n\n  progname = strrchr(argv[0], '/');\n  if(progname == NULL)\n    progname = argv[0];\n  else\n    progname ++; /* Skip past the '/' */\n  \n  if(strcmp(progname, \"add\") == 0)\n  {\n    operation = add;\n  }\n  else if (strcmp(progname, subtract) == 0)\n  {\n    operation = subtract;\n  }\n  else\n  {\n    fprintf(stderr, \"Program called with invalid \"\n            \"name %s. Quitting.\\n\", argv[0]);\n    exit(1);\n  }\n\n  a = strtol(argv[1], &marker, 0); /* Use base 16 for args\n                                    * starting 0x, and base 8 for \n                                    * args starting 0 */\n  if(*marker != '\\0')\n  {\n    fprintf(stderr, \"Invalid character %c in argument %s.\\n\",\n            *marker, argv[1]);\n    exit(1);\n  }\n\n  b = strtol(argv[2], &marker, 0); /* Use base 16 for args\n                                    * starting 0x, and base 8 for \n                                    * args starting 0 */\n  if(*marker != '\\0')\n  {\n    fprintf(stderr, \"Invalid character %c in argument %s.\\n\",\n            *marker, argv[2]);\n    exit(1);\n  }\n  \n  printf(\"%ld %c %ld = %ld\\n\", \n          a, \n          (operation == add)?'+':'-', \n          b, \n          operation(a, b));\n          \n  return 0;\n}\n\nSay that's in operation.c, compile it using \n\ngcc -ansi -pedantic -Wall -W -O2 -o add operation.c\nand then \nln add subtract\nand run both, with appropriate arguments.\n\n\n\n-- \n       David Neary,\n    Marseille, France\n  E-Mail: bolsh@gimp.org\n\n-- \nIrish Linux Users' Group: ilug@linux.ie\nhttp://www.linux.ie/mailman/listinfo/ilug for (un)subscription information.\nList maintainer: listmaster@linux.ie\n\n\n"}