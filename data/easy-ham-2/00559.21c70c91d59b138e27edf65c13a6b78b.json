{"id":"00559","group":"easy-ham-2","checksum":{"type":"MD5","value":"21c70c91d59b138e27edf65c13a6b78b"},"text":"From razor-users-admin@lists.sourceforge.net  Thu Aug  1 04:27:42 2002\nReturn-Path: <razor-users-admin@example.sourceforge.net>\nDelivered-To: yyyy@localhost.netnoteinc.com\nReceived: from localhost (localhost [127.0.0.1])\n\tby phobos.labs.netnoteinc.com (Postfix) with ESMTP id C31AC440A8\n\tfor <jm@localhost>; Wed, 31 Jul 2002 23:27:41 -0400 (EDT)\nReceived: from phobos [127.0.0.1]\n\tby localhost with IMAP (fetchmail-5.9.0)\n\tfor jm@localhost (single-drop); Thu, 01 Aug 2002 04:27:41 +0100 (IST)\nReceived: from usw-sf-list2.sourceforge.net (usw-sf-fw2.sourceforge.net\n    [216.136.171.252]) by dogma.slashnull.org (8.11.6/8.11.6) with ESMTP id\n    g713RR218337 for <jm-razor@jmason.org>; Thu, 1 Aug 2002 04:27:27 +0100\nReceived: from usw-sf-list1-b.sourceforge.net ([10.3.1.13]\n    helo=usw-sf-list1.sourceforge.net) by usw-sf-list2.sourceforge.net with\n    esmtp (Exim 3.31-VA-mm2 #1 (Debian)) id 17a6ST-0006NG-00; Wed,\n    31 Jul 2002 20:17:01 -0700\nReceived: from smtp-gw.dmv.com ([64.45.128.8]) by\n    usw-sf-list1.sourceforge.net with esmtp (Exim 3.31-VA-mm2 #1 (Debian)) id\n    17a6Ra-0003Mm-00 for <razor-users@lists.sourceforge.net>; Wed,\n    31 Jul 2002 20:16:06 -0700\nReceived: from mail-gw.dmv.com (mail-gw.dmv.com [64.45.128.6]) by\n    smtp-gw.dmv.com (8.9.3/8.11.6) with ESMTP id XAA91180; Wed, 31 Jul 2002\n    23:16:05 -0400 (EDT) (envelope-from sven@dmv.com)\nReceived: from homediet (dogpound.dyndns.org [64.45.134.154]) by\n    mail-gw.dmv.com (8.11.6/8.11.6) with SMTP id g713Q8e80425; Wed,\n    31 Jul 2002 23:26:08 -0400 (EDT) (envelope-from sven@dmv.com)\nMessage-Id: <00e701c23909$ee063bb0$0201a8c0@homediet>\nFrom: \"Sven\" <sven@dmv.com>\nTo: <mail@vipul.net>\nCc: <razor-users@example.sourceforge.net>\nReferences: <00df01c238fc$f04ac060$0201a8c0@homediet>\n    <20020731193146.B17700@rover.vipul.net>\nSubject: Re: [Razor-users] Smrazor, Milter, and Max connections\nMIME-Version: 1.0\nContent-Type: text/plain; charset=\"iso-8859-1\"\nContent-Transfer-Encoding: 7bit\nX-Priority: 3\nX-Msmail-Priority: Normal\nX-Mailer: Microsoft Outlook Express 6.00.2600.0000\nX-Mimeole: Produced By Microsoft MimeOLE V6.00.2600.0000\nSender: razor-users-admin@example.sourceforge.net\nErrors-To: razor-users-admin@example.sourceforge.net\nX-Beenthere: razor-users@example.sourceforge.net\nX-Mailman-Version: 2.0.9-sf.net\nPrecedence: bulk\nList-Help: <mailto:razor-users-request@example.sourceforge.net?subject=help>\nList-Post: <mailto:razor-users@example.sourceforge.net>\nList-Subscribe: <https://example.sourceforge.net/lists/listinfo/razor-users>,\n    <mailto:razor-users-request@lists.sourceforge.net?subject=subscribe>\nList-Id: <razor-users.example.sourceforge.net>\nList-Unsubscribe: <https://example.sourceforge.net/lists/listinfo/razor-users>,\n    <mailto:razor-users-request@lists.sourceforge.net?subject=unsubscribe>\nList-Archive: <http://www.geocrawler.com/redir-sf.php3?list=razor-users>\nX-Original-Date: Wed, 31 Jul 2002 23:17:07 -0400\nDate: Wed, 31 Jul 2002 23:17:07 -0400\n\n\n----- Original Message -----\nFrom: \"Vipul Ved Prakash\" <mail@vipul.net>\nTo: \"Sven\" <sven@dmv.com>\nCc: <razor-users@example.sourceforge.net>\nSent: Wednesday, July 31, 2002 10:31 PM\nSubject: Re: [Razor-users] Smrazor, Milter, and Max connections\n\n\n> On Wed, Jul 31, 2002 at 09:44:08PM -0400, Sven wrote:\n> > With v2.14 of razor client and using Solaris 9 with sendmail 8.12.5 I\nhave\n> > managed to get smrazor working (milter) -- sort of ... With light server\n> > loads, it seems to do fine; however during peak traffic times (or peak\n> > catalogue server usage???) , the smrazor milter stops and sometime dumps\n> > core as well.  Does anyone know of a limit in terms of number of\n> > messages/minute that can be theoretically processed? I have noticed\ntimeouts\n> > occuring (I set the milter timeout per message to 15 seconds) often in\nhuge\n> > lumps and the occasional \"Could not get valid info from Discovery\nServers\")\n> > ?????\n>\n> 15 seconds is more than enough timeout... There's no request/minute limit,\n> and we are not close to hardware limits on any of the servers.\n>\n> Could you send me relevant sections from the log file as well as\n> your config?\n>\n>>From the maillog:\nJul 31 22:52:20 cartman sendmail[21081]: [ID 801593 mail.error]\ng712pocb021081: Milter (smrazor): timeout before data read\nJul 31 22:52:20 cartman sendmail[21081]: [ID 801593 mail.info]\ng712pocb021081: Milter (smrazor): to error state\nJul 31 22:52:22 cartman sendmail[21091]: [ID 801593 mail.error]\ng712pocb021091: Milter (smrazor): timeout before data read\nJul 31 22:52:22 cartman sendmail[21091]: [ID 801593 mail.info]\ng712pocb021091: Milter (smrazor): to error state\n\n>>From razor-agents.log\nJul 31 17:35:43.637025 check[21171]: [ 1] razor-check error: nextserver:\ndiscover0: bootstrap_discovery:\nJul 31 17:35:43.987175 check[21168]: [ 1] razor-check error: nextserver:\ndiscover0: bootstrap_discovery:\nJul 31 18:36:34.652485 check[8241]: [ 1] razor-check error: nextserver:\nCould not get valid info from Discovery Servers\nJul 31 22:01:09.162201 check[9973]: [ 1] razor-check error: nextserver:\nCould not get valid info from Discovery Servers\n\n>>From smrazor.err\n[07/31/2002 22:52:22] (1144) Error reading from razor-check (156a78)\n(21092): timeout\n[07/31/2002 22:52:42] (1144) Error reading from razor-check (16b948)\n(21221): timeout\n[07/31/2002 22:52:42] (1144) Error reading from razor-check (165348)\n(21227): timeout\n[07/31/2002 22:57:21] (1144) Error reading from razor-check (16d118)\n(22911): timeout\n\nrazor-agent.conf\n#\n# Razor2 config file\n#\n# Autogenerated by Razor-Agents v2.14\n# Wed Jul 31 11:38:43 2002\n# Created with all default values\n#\n# see razor-agent.conf(5) man page\n#\n\ndebuglevel             = 3\nidentity               = identity\nignorelist             = 0\nlistfile_catalogue     = servers.catalogue.lst\nlistfile_discovery     = servers.discovery.lst\nlistfile_nomination    = servers.nomination.lst\nlogfile                = /var/log/razor-agent.log\nmin_cf                 = ac\nrazorhome              = /etc/razor\nrazorzone              = razor2.cloudmark.com\nrediscovery_wait       = 172800\nreport_headers         = 1\nturn_off_discovery     = 0\nuse_engines            = 1,2,3,4\nwhitelist              = razor-whitelist\n\nRealizing that the above, after looking at it, is pretty much no help,\nchanged debug to 9 and output the results to a text file. It is attached but\nthe crux of the messages resemble:\nJul 31 23:11:14.633544 check[5689]: [ 7] Can't read file\nservers.discovery.lst, looking relatve to\nJul 31 23:11:14.634218 check[5689]: [ 5] Can't read file\n/servers.discovery.lst: No such file or directory\n or\nJul 31 23:07:19.115412 check[26156]: [ 6] no discovery listfile:\nservers.discovery.lst\nJul 31 23:07:19.115878 check[26156]: [ 5] Finding Discovery Servers via DNS\nin the razor2.cloudmark.com zone\nJul 31 23:07:19.174862 check[26155]: [ 8] Connection established\nJul 31 23:07:19.175667 check[26155]: [ 4] 216.52.13.90 >> 29 server\ngreeting: sn=N&srl=30&ep4=7542-10&a=l\nJul 31 23:07:19.176887 check[26155]: [ 4] 216.52.13.90 << 12\nJul 31 23:07:19.177344 check[26155]: [ 6] a=g&pm=csl\nJul 31 23:07:19.214020 check[26124]: [ 6] Found 1 Discovery Servers via DNS\nin the razor2.cloudmark.com zone\nJul 31 23:07:19.214729 check[26124]: [ 8] Checking with Razor Discovery\nServer 216.52.13.90\nJul 31 23:07:19.215383 check[26124]: [ 6] No proper port specified, using\n2703\nJul 31 23:07:19.215833 check[26124]: [ 5] Connecting to 216.52.13.90 ...\n\nIt would appear that even though there is a specified home directory,\nrazor-check cannot read the .lst files and must apparently run discovery at\neach lookup?????\n\nThis, btw, is occuring on two separate servers ...\n\nSven\n\n\n\n\n\n-------------------------------------------------------\nThis sf.net email is sponsored by: Dice - The leading online job board\nfor high-tech professionals. Search and apply for tech jobs today!\nhttp://seeker.dice.com/seeker.epl?rel_code=31\n_______________________________________________\nRazor-users mailing list\nRazor-users@lists.sourceforge.net\nhttps://lists.sourceforge.net/lists/listinfo/razor-users\n\n\n"}