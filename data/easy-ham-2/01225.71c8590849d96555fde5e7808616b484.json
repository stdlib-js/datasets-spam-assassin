{"id":"01225","group":"easy-ham-2","checksum":{"type":"MD5","value":"71c8590849d96555fde5e7808616b484"},"text":"From rpm-list-admin@freshrpms.net  Wed Aug 14 11:00:34 2002\nReturn-Path: <rpm-zzzlist-admin@freshrpms.net>\nDelivered-To: yyyy@localhost.netnoteinc.com\nReceived: from localhost (localhost [127.0.0.1])\n\tby phobos.labs.netnoteinc.com (Postfix) with ESMTP id 3261644148\n\tfor <jm@localhost>; Wed, 14 Aug 2002 05:52:04 -0400 (EDT)\nReceived: from phobos [127.0.0.1]\n\tby localhost with IMAP (fetchmail-5.9.0)\n\tfor jm@localhost (single-drop); Wed, 14 Aug 2002 10:52:04 +0100 (IST)\nReceived: from egwn.net (ns2.egwn.net [193.172.5.4]) by\n    dogma.slashnull.org (8.11.6/8.11.6) with ESMTP id g7E9Js408293 for\n    <jm-rpm@jmason.org>; Wed, 14 Aug 2002 10:19:54 +0100\nReceived: from auth02.nl.egwn.net (localhost [127.0.0.1]) by egwn.net\n    (8.11.6/8.11.6/EGWN) with ESMTP id g7E9H1J23300; Wed, 14 Aug 2002 11:17:03\n    +0200\nReceived: from python (gw01.es3.egwn.net [212.9.66.13]) (authenticated) by\n    egwn.net (8.11.6/8.11.6/EGWN) with ESMTP id g7E9GcJ23205 for\n    <rpm-list@freshrpms.net>; Wed, 14 Aug 2002 11:16:39 +0200\nFrom: Matthias Saou <matthias@egwn.net>\nTo: rpm-zzzlist@freshrpms.net\nSubject: Re: Problem with my spec file\nMessage-Id: <20020814111509.1d51dbca.matthias@egwn.net>\nIn-Reply-To: <001201c2435a$2e4051c0$6501a8c0@viper>\nReferences: <001201c2435a$2e4051c0$6501a8c0@viper>\nOrganization: Electronic Group Interactive\nX-Mailer: Sylpheed version 0.8.1claws (GTK+ 1.2.10; i386-redhat-linux)\nReply-BY: Tue, 24 Jul 2000 19:02:00 +1000\nX-Operating-System: GNU/Linux power!\nX-Message-Flag: Try using a real operating system : GNU/Linux power!\nMIME-Version: 1.0\nContent-Type: text/plain; charset=US-ASCII\nContent-Transfer-Encoding: 7bit\nX-Mailscanner: Found to be clean, Found to be clean\nSender: rpm-zzzlist-admin@freshrpms.net\nErrors-To: rpm-zzzlist-admin@freshrpms.net\nX-Beenthere: rpm-zzzlist@freshrpms.net\nX-Mailman-Version: 2.0.11\nPrecedence: bulk\nReply-To: rpm-zzzlist@freshrpms.net\nList-Help: <mailto:rpm-zzzlist-request@freshrpms.net?subject=help>\nList-Post: <mailto:rpm-zzzlist@freshrpms.net>\nList-Subscribe: <http://lists.freshrpms.net/mailman/listinfo/rpm-zzzlist>,\n    <mailto:rpm-list-request@freshrpms.net?subject=subscribe>\nList-Id: Freshrpms RPM discussion list <rpm-zzzlist.freshrpms.net>\nList-Unsubscribe: <http://lists.freshrpms.net/mailman/listinfo/rpm-zzzlist>,\n    <mailto:rpm-list-request@freshrpms.net?subject=unsubscribe>\nList-Archive: <http://lists.freshrpms.net/pipermail/rpm-zzzlist/>\nX-Original-Date: Wed, 14 Aug 2002 11:15:09 +0200\nDate: Wed, 14 Aug 2002 11:15:09 +0200\n\nOnce upon a time, Victor wrote :\n\n> Can someone tell me what I am doing wrong? it's like make doesn't take\n> the PREFIX override... It's crazy. I don't get it...\n> OS: TurboLinux6 rmp3.0.6 make 3.79.1\n> \n> I just don't get this. It should work...\n> \n[...]\n> \n> %build\n>    %{__perl} Makefile.PL LOCAL_RULES_DIR=/etc/spamassassin\n> INSTALLDIRS=vendor PREFIX=%{_prefix}\n>    make OPTIMIZE=\"$RPM_OPT_FLAGS\" PREFIX=%{_prefix}\n> %install\n>    rm -rf $RPM_BUILD_ROOT\n>    %makeinstall PREFIX=%{buildroot}%{_prefix} \\\n>                 INSTALLMAN1DIR=%{buildroot}%{_mandir}/man1 \\\n>                 INSTALLMAN3DIR=%{buildroot}%{_mandir}/man3 \\\n>                 LOCAL_RULES_DIR=%{buildroot}%{_sysconfdir}/spamassassin\n[...]\n\nWell, first you need to look at the Makefile.PL to see if it uses the\nPREFIX you're trying to pass to it or not. Maybe you'll need to \"override\"\nother paths when doing the \"make\".\nSecond, the \"%makeinstall\" macro automatically overrides many common values\nlike \"prefix=\" or \"datadir=\", so it's completely redundant with the\n\"PREFIX=\" you're passing to it. Take a look at the \"Makefile\" you have at\nthat point to see how the \"install\" target is, and what it uses.\n\nLast, as Chris suggested, you can take a look at an existing package, like\nthe one in Rawhide ;-)\n\nMatthias\n\n-- \nMatthias Saou                                World Trade Center\n-------------                                Edificio Norte 4 Planta\nSystem and Network Engineer                  08039 Barcelona, Spain\nElectronic Group Interactive                 Phone : +34 936 00 23 23\n\n_______________________________________________\nRPM-List mailing list <RPM-List@freshrpms.net>\nhttp://lists.freshrpms.net/mailman/listinfo/rpm-list\n\n\n"}