{"id":"00060","group":"easy-ham-2","checksum":{"type":"MD5","value":"f7d5d9acdd127366fbd626a310bd40c4"},"text":"From ilug-admin@linux.ie  Fri Jul 19 15:05:54 2002\nReturn-Path: <ilug-admin@linux.ie>\nDelivered-To: yyyy@localhost.netnoteinc.com\nReceived: from localhost (localhost [127.0.0.1])\n\tby phobos.labs.netnoteinc.com (Postfix) with ESMTP id D6F9743FAD\n\tfor <jm@localhost>; Fri, 19 Jul 2002 10:05:39 -0400 (EDT)\nReceived: from dogma.slashnull.org [212.17.35.15]\n\tby localhost with IMAP (fetchmail-5.9.0)\n\tfor jm@localhost (single-drop); Fri, 19 Jul 2002 15:05:39 +0100 (IST)\nReceived: from lugh.tuatha.org (root@lugh.tuatha.org [194.125.145.45]) by\n    dogma.slashnull.org (8.11.6/8.11.6) with ESMTP id g6JE52J02557 for\n    <jm-ilug@jmason.org>; Fri, 19 Jul 2002 15:05:02 +0100\nReceived: from lugh (root@localhost [127.0.0.1]) by lugh.tuatha.org\n    (8.9.3/8.9.3) with ESMTP id PAA08480; Fri, 19 Jul 2002 15:00:57 +0100\nReceived: from linux.local ([195.218.108.86]) by lugh.tuatha.org\n    (8.9.3/8.9.3) with ESMTP id PAA08447 for <ilug@linux.ie>; Fri,\n    19 Jul 2002 15:00:49 +0100\nX-Authentication-Warning: lugh.tuatha.org: Host [195.218.108.86] claimed\n    to be linux.local\nReceived: from linux.local (localhost [127.0.0.1]) by linux.local\n    (8.11.6/8.11.6/SuSE Linux 0.5) with ESMTP id g6JE0CX02325 for\n    <ilug@linux.ie>; Fri, 19 Jul 2002 15:00:12 +0100\nMessage-Id: <200207191400.g6JE0CX02325@linux.local>\nTo: Irish Linux Users Group <ilug@linux.ie>\nReply-To: Irish Linux Users Group <ilug@linux.ie>\nSubject: Re: [ILUG] How to copy some files\nIn-Reply-To: Message from Niall O Broin <niall@linux.ie> of\n    \"Fri, 19 Jul 2002 14:28:42 BST.\"\n    <20020719132842.GA2506@bagend.makalumedia.com>\nX-Mailer: [nmh-1.0.4] MH.6.8, SuSE Linux 7.3\nX-Url: http://www.blf.utvinternet.ie\nMIME-Version: 1.0\nContent-Type: text/plain; charset=\"utf-8\"\nContent-Id: <2322.1027087211.1@linux.local>\nDate: Fri, 19 Jul 2002 15:00:12 +0100\nFrom: Brian Foster <blf@utvinternet.ie>\nContent-Transfer-Encoding: 8bit\nX-MIME-Autoconverted: from quoted-printable to 8bit by lugh.tuatha.org id\n    PAA08447\nSender: ilug-admin@linux.ie\nErrors-To: ilug-admin@linux.ie\nX-Mailman-Version: 1.1\nPrecedence: bulk\nList-Id: Irish Linux Users' Group <ilug.linux.ie>\nX-Beenthere: ilug@linux.ie\n\n  | Date: Fri, 19 Jul 2002 14:28:42 +0100\n  | From: Niall O Broin <niall@linux.ie>\n  | \n  | I have about 60G of data which I need to copy from one disk\n  | to another.  However, I'm not sure how I should best copy it.\n  | The problem is the bulk of the data is images and most of these\n  | image have two directory entries i.e. there is a hard link to\n  | each file.  If I copy them using cp -a or my usual favourite of\n  | find .|cpio -pmd other_dir  it's going to copy each file twice,\n  | which is not what I want. dump / restore would take care of this\n  | if the source filesystem wasn't reiserfs  :-(  Any suggestions ?\n\n do your (and my) favourite, it'll be Ok:\n\n  1. cpio(1) preserves hard links, i.e., if F1 and F2 are\n     hard-linked and both are \"copied\", then the \"copies\"\n     are also hard-linked.  this is true of all `cpio's\n     (and `tar' and any other decent/usable archival tool,\n     by definition (IMHO)).\n\n  2. `cpio -p' (at least `GNU cpio version 2.4.2') will only\n     read/write (copy) the actual data bytes once.  I _think_\n     this is true for all `cpio's (not just that GNU version),\n     but am not certain.\n\n if you use an intermediate archive, e.g.:\n\n    cpio -o ... >file;   ...;   cpio -i ... <file\n\n then the actual data bytes are copied into the archive (file)\n under each name (e.g., as both F1 and F2).  but GNU `cpio' is\n smart about this in pass-through mode (`-p'), copying the data\n just once (or so I read the source).\n\ncheers!\n\t-blf-\n\np.s. assuming this is a one-time operation that you won't repeat\n    anytime soon (e.g., never; i.e., time isn't a major issue),\n    and are not using any intermediate media/file (so storage\n    isn't an issue), then even if `cpio' did read the data twice,\n    so what? --- as long as, of course, it re-creates the hard\n    links.  which it will.\n\n--\n Innovative, very experienced, Unix and      | Brian Foster    Dublin, Ireland\n Chorus (embedded RTOS) kernel internals     | e-mail: blf@utvinternet.ie\n expert looking for a new position ...       | mobile: (+353 or 0)86 854 9268\n  For a résumé, contact me, or see my website  http://www.blf.utvinternet.ie\n\n    Stop E$$o (ExxonMobile):  «Whatever you do, don't buy Esso --- they\n     don't give a damn about global warming.»    http://www.stopesso.com\n     Supported by Greenpeace, Friends of the Earth, and numerous others...\n\n-- \nIrish Linux Users' Group: ilug@linux.ie\nhttp://www.linux.ie/mailman/listinfo/ilug for (un)subscription information.\nList maintainer: listmaster@linux.ie\n\n\n"}