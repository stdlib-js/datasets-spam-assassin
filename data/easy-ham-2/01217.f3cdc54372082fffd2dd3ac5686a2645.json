{"id":"01217","group":"easy-ham-2","checksum":{"type":"MD5","value":"f3cdc54372082fffd2dd3ac5686a2645"},"text":"From rpm-list-admin@freshrpms.net  Tue Aug 13 12:47:54 2002\nReturn-Path: <rpm-zzzlist-admin@freshrpms.net>\nDelivered-To: yyyy@localhost.netnoteinc.com\nReceived: from localhost (localhost [127.0.0.1])\n\tby phobos.labs.netnoteinc.com (Postfix) with ESMTP id EF64D43C32\n\tfor <jm@localhost>; Tue, 13 Aug 2002 07:47:53 -0400 (EDT)\nReceived: from phobos [127.0.0.1]\n\tby localhost with IMAP (fetchmail-5.9.0)\n\tfor jm@localhost (single-drop); Tue, 13 Aug 2002 12:47:54 +0100 (IST)\nReceived: from egwn.net (ns2.egwn.net [193.172.5.4]) by\n    dogma.slashnull.org (8.11.6/8.11.6) with ESMTP id g7DBi7e29823 for\n    <jm-rpm@jmason.org>; Tue, 13 Aug 2002 12:44:07 +0100\nReceived: from auth02.nl.egwn.net (localhost [127.0.0.1]) by egwn.net\n    (8.11.6/8.11.6/EGWN) with ESMTP id g7DBf1J09005; Tue, 13 Aug 2002 13:41:01\n    +0200\nReceived: from python (gw01.es3.egwn.net [212.9.66.13]) (authenticated) by\n    egwn.net (8.11.6/8.11.6/EGWN) with ESMTP id g7DBeEJ07354 for\n    <rpm-list@freshrpms.net>; Tue, 13 Aug 2002 13:40:15 +0200\nFrom: Matthias Saou <matthias@rpmforge.net>\nTo: RPM-List <rpm-zzzlist@freshrpms.net>\nSubject: Re: Advise on RPM buidling\nMessage-Id: <20020813131054.46559ec4.matthias@rpmforge.net>\nIn-Reply-To: <1029203194.15281.17.camel@stimpy>\nReferences: <1029203194.15281.17.camel@stimpy>\nOrganization: freshrpms.net / rpmforge.net\nX-Mailer: Sylpheed version 0.8.1claws (GTK+ 1.2.10; i386-redhat-linux)\nX-Operating-System: Red Hat GNU/Linux forever!\nX-Subliminal-Message: Use Linux... use Linux... use Linux...\nMIME-Version: 1.0\nContent-Type: text/plain; charset=US-ASCII\nContent-Transfer-Encoding: 7bit\nX-Mailscanner: Found to be clean, Found to be clean\nSender: rpm-zzzlist-admin@freshrpms.net\nErrors-To: rpm-zzzlist-admin@freshrpms.net\nX-Beenthere: rpm-zzzlist@freshrpms.net\nX-Mailman-Version: 2.0.11\nPrecedence: bulk\nReply-To: rpm-zzzlist@freshrpms.net\nList-Help: <mailto:rpm-zzzlist-request@freshrpms.net?subject=help>\nList-Post: <mailto:rpm-zzzlist@freshrpms.net>\nList-Subscribe: <http://lists.freshrpms.net/mailman/listinfo/rpm-zzzlist>,\n    <mailto:rpm-list-request@freshrpms.net?subject=subscribe>\nList-Id: Freshrpms RPM discussion list <rpm-zzzlist.freshrpms.net>\nList-Unsubscribe: <http://lists.freshrpms.net/mailman/listinfo/rpm-zzzlist>,\n    <mailto:rpm-list-request@freshrpms.net?subject=unsubscribe>\nList-Archive: <http://lists.freshrpms.net/pipermail/rpm-zzzlist/>\nX-Original-Date: Tue, 13 Aug 2002 13:10:54 +0200\nDate: Tue, 13 Aug 2002 13:10:54 +0200\n\nOnce upon a time, Mark wrote :\n\n> I'm just playing with gnuboy (game boy emulator) as its fairly simple\n> and small.\n> I'm having a few problems with the %docs macro.\n> After reading thru maximum rpm and the rpm docs, I'm still stuck on one\n> thing, in the source for gnuboy there is a directory called docs, that\n> contains, well the docs.\n> \n> I'm not sure what to pass to the %docs macro?\n> I originally tried:\n> %doc CHANGES  CONFIG  CREDITS  FAQ  HACKING  LIBERTY  README.old  \n> \n> and it moans about missing files, would I have to put a few lines in the\n> %build macro, just before configure to move the docs out of that\n> directory and into the build root?\n> \n> ie: mv docs/* ../\n\nActually, I've already rebuild gnuboy, I just had forgotten to commit the\nspec file, which is now done :\n\nhttp://freshrpms.net/builds/gnuboy/gnuboy.spec\n\nBasically, %doc is used to put files in %docdir (default to\n/usr/share/docs/%{name}-%{version}/ and the listed files with relative\npaths (i.e. that don't start with a \"/\") are relative to the %{builddir}\n(the uncompressed source usually). So either you can choose to have a\n\"docs\" directory inside %{_docdir} by putting :\n%doc docs\n(or, totally equivalent, the latter just reminding it's a directory)\n%doc docs/\nOr you can put all files that are in docs/ directly in %{_docdir} :\n%doc docs/*\n\nTry both, poke around, and you should catch the difference if it's not\nalready clear for you.\nYou can also mark any file from the %{buildroot} as documentation (will be\nlisted when using \"-qd\" to query the package's docs) by using %doc with\nabsolute filenames, for example :\n%doc %{_datadir}/foo-game/manual\n(this is /usr/share/foo-game/manual, an absolute file)\nAlso, for the packager's convenience, all files in /usr/share/man (aka\n%{_mandir}) are automatically tagged as %doc.\n\n> Also one more thing, whats the best way to work out the dependencies?\n> as for example with gnuboy, all hte docs and the website says is it\n> needs SDL.\n> \n> Do I set a Requires: SDL >= 1.2 (as my system uses SDL-1.2.4-5) or just\n> put Requires: SDL.\n\nBuild the package once and see if it checks for a specific version, or read\nthe installation notes. Often you'll see \"checking for SDL >= 1.2.0\" for\nexample when running configure, then it's best to also make the package\ndepend on that version.\n\n> One more quick question, I'm used to compiling source code no problem\n> (cannot program, but stumble through), whats the best way for finding\n> out what RPMS are needed for the Requires & BuildRequires macros?\n> apart from read all the docs and websites info.\n\nWell, read the docs indeed :-) You can also compile the package once\nwithout those fields and see what the configure script is checking for\n(basically, the libs and versions you'll need to add to the BuildRequires:)\nthen once the package is built, query the automatic dependencies that rpm\nput into it. You'll see for instance if the binaries/libs from the package\nneed SDL, gtk+  etc. Then add those \"Requires:\" and rebuild a final version\nof the package.\nOften you can omit some dependencies, for example if a program is checking\nfor glib, gtk+, gdk-pixbuf and gnome libraries when being compiled,\nBuildRequires: gnome-libs-devel\nRequires: gnome-libs\nwill be enough since they already depend on the \"lower level\" libs that are\nglib, gtk+ and gdk-pixbuf.\n\n> Once again sorry to bother you with this, but I figured you were the\n> best one to ask.\n\nWell, this is typically the type of information interesting to share with\nothers, so I'll copy this answer to the rpm-list hoping some people will\nappreciate :-)\n\n> p.s freshrpms rocks .. creep..creep!\n\nThanks ;-)\n\nMatthias\n\n-- \nClean custom Red Hat Linux rpm packages : http://freshrpms.net/\nRed Hat Linux release 7.3 (Valhalla) running Linux kernel 2.4.18-5\nLoad : 0.29 0.20 0.32, AC on-line, battery charging: 100% (8:29)\n\n_______________________________________________\nRPM-List mailing list <RPM-List@freshrpms.net>\nhttp://lists.freshrpms.net/mailman/listinfo/rpm-list\n\n\n"}