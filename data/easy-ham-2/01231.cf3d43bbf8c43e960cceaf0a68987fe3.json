{"id":"01231","group":"easy-ham-2","checksum":{"type":"MD5","value":"cf3d43bbf8c43e960cceaf0a68987fe3"},"text":"From rpm-list-admin@freshrpms.net  Fri Aug 16 10:58:23 2002\nReturn-Path: <rpm-zzzlist-admin@freshrpms.net>\nDelivered-To: yyyy@localhost.netnoteinc.com\nReceived: from localhost (localhost [127.0.0.1])\n\tby phobos.labs.netnoteinc.com (Postfix) with ESMTP id 2C42543C4C\n\tfor <jm@localhost>; Fri, 16 Aug 2002 05:56:45 -0400 (EDT)\nReceived: from phobos [127.0.0.1]\n\tby localhost with IMAP (fetchmail-5.9.0)\n\tfor jm@localhost (single-drop); Fri, 16 Aug 2002 10:56:45 +0100 (IST)\nReceived: from egwn.net (ns2.egwn.net [193.172.5.4]) by\n    dogma.slashnull.org (8.11.6/8.11.6) with ESMTP id g7FJYf715049 for\n    <jm-rpm@jmason.org>; Thu, 15 Aug 2002 20:34:41 +0100\nReceived: from auth02.nl.egwn.net (localhost [127.0.0.1]) by egwn.net\n    (8.11.6/8.11.6/EGWN) with ESMTP id g7FJW2J26798; Thu, 15 Aug 2002 21:32:03\n    +0200\nReceived: from ex02.idirect.net (ex02.idirect.net [208.226.76.48]) by\n    egwn.net (8.11.6/8.11.6/EGWN) with ESMTP id g7FJUkJ16228 for\n    <rpm-list@freshrpms.net>; Thu, 15 Aug 2002 21:30:46 +0200\nX-Mimeole: Produced By Microsoft Exchange V6.0.4417.0\nContent-Class: urn:content-classes:message\nMIME-Version: 1.0\nContent-Type: text/plain; charset=\"iso-8859-1\"\nSubject: RE: Documentation about built-in RPM macros?\nMessage-Id: <BADF3C947A1BD54FBA75C70C241B0B9E10AA97@ex02.idirect.net>\nX-MS-Has-Attach: \nX-MS-Tnef-Correlator: \nThread-Topic: Documentation about built-in RPM macros?\nThread-Index: AcJEjYzDuVbFyMvQTtimZrgVK0GviAAAaRAw\nFrom: \"Harig, Mark A.\" <maharig@idirect.net>\nTo: <rpm-zzzlist@freshrpms.net>\nX-Mailscanner: Found to be clean, Found to be clean\nContent-Transfer-Encoding: 8bit\nX-MIME-Autoconverted: from quoted-printable to 8bit by egwn.net id\n    g7FJUkJ16228\nSender: rpm-zzzlist-admin@freshrpms.net\nErrors-To: rpm-zzzlist-admin@freshrpms.net\nX-Beenthere: rpm-zzzlist@freshrpms.net\nX-Mailman-Version: 2.0.11\nPrecedence: bulk\nReply-To: rpm-zzzlist@freshrpms.net\nList-Help: <mailto:rpm-zzzlist-request@freshrpms.net?subject=help>\nList-Post: <mailto:rpm-zzzlist@freshrpms.net>\nList-Subscribe: <http://lists.freshrpms.net/mailman/listinfo/rpm-zzzlist>,\n    <mailto:rpm-list-request@freshrpms.net?subject=subscribe>\nList-Id: Freshrpms RPM discussion list <rpm-zzzlist.freshrpms.net>\nList-Unsubscribe: <http://lists.freshrpms.net/mailman/listinfo/rpm-zzzlist>,\n    <mailto:rpm-list-request@freshrpms.net?subject=unsubscribe>\nList-Archive: <http://lists.freshrpms.net/pipermail/rpm-zzzlist/>\nX-Original-Date: Thu, 15 Aug 2002 15:30:40 -0400\nDate: Thu, 15 Aug 2002 15:30:40 -0400\n\n\n\n> -----Original Message-----\n> From: Ralf Ertzinger [mailto:ralf@camperquake.de]\n> Sent: Thursday, August 15, 2002 2:53 PM\n> To: rpm-zzzlist@freshrpms.net\n> Subject: Re: Documentation about built-in RPM macros?\n> \n> \n> Hi.\n> \n> Dave Cridland <dave@cridland.net> wrote:\n> \n> > > recommends *against* using '%configure' (\"We will try to \n> support users\n> > > who accidentally type the leading % but this should not be relied\n> > > upon.\"), and yet\n> \n> [snip]\n> \n> > They're just suggesting people use \"./configure\" instead.\n> \n> No, they do not (what would be the use of that, anyway?). \n> They say that\n> they will _try_ to eval macros even if the user forgot to pass the\n> leading '%', but that this feature should not be relied upon.\n> \n\nHmm.  1. The quote is not suggesting that people use './configure'.\n2. The quote is not saying that rpm will _try_ to eval macros even\nif the user forgot to pass the leading '%'.  It is saying the opposite:\nrpm will try to support users who \"forgot\" to _leave off_ the leading\n'%'.  That is what the documentation _says_, but rpm does not follow\nthe documentation.  If you leave off the '%', then rpm will not eval\nthe macro, at least for rpm 4.0.4.\n\nConfused?\n\nAnyway, back to my original problem: what about documentation for\nthe macros '%post', '%postun', and '%files'?  Here's some of what\nI found \"documented\" in the the CHANGES file that 'rpm' includes:\n\nLine 46:\n\t- macro for %files, always include %defattr(), redhat config\nonly.\n\nLine 49:\n\t- bail on %files macro.\n\nHmm.  So, there is no %files macro?\n\nLine 172-174:\n\t- add \"rpmlib(ScriptletInterpreterArgs)\" to track\n\t    %post -p \"/sbin/ldconfig -n /usr/lib\"\n\t  incompatibilities.\n\nI'm unable to find a corresponding description for %postun, but it\nappears to work just the same.  The important things to remember are:\n\n  1. Don't forget the double-quotes around the -p argument string.  If\n     you leave them off, you'll get the cryptic error message:\n\n     error: line #: Package does not exist: %post -p /sbin/ldconfig -n\n/usr/lib\n\n  2. This only works with RPM 4.0.3 or later.\n\n> -- \n> On the first day of Christmas my true love sent to me\n>        A badly configured newsreader\n> \n> _______________________________________________\n> RPM-List mailing list <RPM-List@freshrpms.net>\n> http://lists.freshrpms.net/mailman/listinfo/rpm-list\n> \n\n_______________________________________________\nRPM-List mailing list <RPM-List@freshrpms.net>\nhttp://lists.freshrpms.net/mailman/listinfo/rpm-list\n\n"}