{"id":"00687","group":"easy-ham-2","checksum":{"type":"MD5","value":"8b31d13e4d04a9e78a7e01b491f6d2f6"},"text":"From exmh-workers-admin@redhat.com  Mon Jul 22 19:48:38 2002\nReturn-Path: <exmh-workers-admin@spamassassin.taint.org>\nDelivered-To: yyyy@localhost.netnoteinc.com\nReceived: from localhost (localhost [127.0.0.1])\n\tby phobos.labs.netnoteinc.com (Postfix) with ESMTP id DAE9D440D6\n\tfor <jm@localhost>; Mon, 22 Jul 2002 14:48:14 -0400 (EDT)\nReceived: from dogma.slashnull.org [212.17.35.15]\n\tby localhost with IMAP (fetchmail-5.9.0)\n\tfor jm@localhost (single-drop); Mon, 22 Jul 2002 19:48:14 +0100 (IST)\nReceived: from listman.spamassassin.taint.org (listman.spamassassin.taint.org [66.187.233.211]) by\n    dogma.slashnull.org (8.11.6/8.11.6) with ESMTP id g6MIGt411887 for\n    <jm-exmh@jmason.org>; Mon, 22 Jul 2002 19:16:55 +0100\nReceived: from listman.spamassassin.taint.org (localhost.localdomain [127.0.0.1]) by\n    listman.redhat.com (Postfix) with ESMTP id 5A8023F380; Mon, 22 Jul 2002\n    14:16:02 -0400 (EDT)\nDelivered-To: exmh-workers@listman.spamassassin.taint.org\nReceived: from int-mx1.corp.spamassassin.taint.org (int-mx1.corp.spamassassin.taint.org\n    [172.16.52.254]) by listman.redhat.com (Postfix) with ESMTP id 1D8E93F301\n    for <exmh-workers@listman.redhat.com>; Mon, 22 Jul 2002 14:15:24 -0400\n    (EDT)\nReceived: (from mail@localhost) by int-mx1.corp.spamassassin.taint.org (8.11.6/8.11.6)\n    id g6MIFO004770 for exmh-workers@listman.redhat.com; Mon, 22 Jul 2002\n    14:15:24 -0400\nReceived: from mx1.spamassassin.taint.org (mx1.spamassassin.taint.org [172.16.48.31]) by\n    int-mx1.corp.redhat.com (8.11.6/8.11.6) with SMTP id g6MIFOR04766 for\n    <exmh-workers@redhat.com>; Mon, 22 Jul 2002 14:15:24 -0400\nReceived: from tippex.localdomain (h189n1fls22o974.telia.com\n    [213.64.79.189]) by mx1.redhat.com (8.11.6/8.11.6) with SMTP id\n    g6MI3rs07283 for <exmh-workers@redhat.com>; Mon, 22 Jul 2002 14:03:53\n    -0400\nReceived: by tippex.localdomain (Postfix, from userid 500) id 9D292470D;\n    Mon, 22 Jul 2002 20:15:16 +0200 (CEST)\nReceived: from tippex.localdomain (localhost [127.0.0.1]) by\n    tippex.localdomain (Postfix) with ESMTP id 88301470C; Mon, 22 Jul 2002\n    20:15:16 +0200 (CEST)\nX-Mailer: exmh version 2.5_20020719 01/15/2001 with nmh-1.0.4\nTo: Chris Garrigues <cwg-dated-1027791513.94b180@DeepEddy.Com>\nCc: exmh-workers@spamassassin.taint.org\nSubject: Re: Another bug\nIn-Reply-To: Message from Chris Garrigues\n    <cwg-dated-1027791513.94b180@DeepEddy.Com> of\n    \"Mon, 22 Jul 2002 12:38:32 CDT.\"\n    <1027359513.3184.TMDA@deepeddy.vircio.com>\nMIME-Version: 1.0\nContent-Type: text/plain; charset=iso-8859-1\nFrom: Anders Eriksson <aeriksson@fastmail.fm>\nMessage-Id: <20020722181516.9D292470D@tippex.localdomain>\nContent-Transfer-Encoding: 8bit\nX-MIME-Autoconverted: from quoted-printable to 8bit by int-mx1.corp.spamassassin.taint.org\n    id g6MIFOR04766\nX-Loop: exmh-workers@spamassassin.taint.org\nSender: exmh-workers-admin@spamassassin.taint.org\nErrors-To: exmh-workers-admin@spamassassin.taint.org\nX-Beenthere: exmh-workers@spamassassin.taint.org\nX-Mailman-Version: 2.0.1\nPrecedence: bulk\nList-Help: <mailto:exmh-workers-request@spamassassin.taint.org?subject=help>\nList-Post: <mailto:exmh-workers@spamassassin.taint.org>\nList-Subscribe: <https://listman.spamassassin.taint.org/mailman/listinfo/exmh-workers>,\n    <mailto:exmh-workers-request@redhat.com?subject=subscribe>\nList-Id: Discussion list for EXMH developers <exmh-workers.spamassassin.taint.org>\nList-Unsubscribe: <https://listman.spamassassin.taint.org/mailman/listinfo/exmh-workers>,\n    <mailto:exmh-workers-request@redhat.com?subject=unsubscribe>\nList-Archive: <https://listman.spamassassin.taint.org/mailman/private/exmh-workers/>\nDate: Mon, 22 Jul 2002 20:15:11 +0200\n\n\nChris said:\n> \n> I can tell you what the 'clear' and 'del' arguments mean:\n> \n> Mh_SequenceUpdate lists/l-k clear cur {} public\n> \tThis means to clear the 'cur' sequence for lists/l-k\n> \n> Mh_SequenceUpdate lists/l-k del unseen 5400 public\n> \tThis means to delete message 5400 from the 'unseen' sequence for lists/l-k\n> \n> Can you explain more what you were actually doing as this occurred?  This \n> doesn't appear to be background processing.  Is there significance to message \n> 5400?  Is it the one that isn't displaying?\n> \n> Chris\n\nAfter sending the report I started fiddling with the Ftoc_RescanLine \nstuff and I havn't seen it since. I can't really tell if it was my \nhacking that removed it, or if it was some transitional magic \nhappening since this was the first invocation of that version of \nexmh. I've backed out my stuff now, and'll let you know if it happens \nagain.\n\n\nOn another thing with the Ftoc_RescanLine stuff. This routine is \ncalled at times still unclar to me. An inspection of the routine \nsuggests that it is used in the transition of a message to/form \n\"current\" state to re-paint the ftoc line. However, checking the \nmsg.tcl code (MSgChange) we find:\n\n    if {$msgid != {}} {\n        # Allow null msgid from Msg_ShowWhat, which supplies line \ninstead\n        if {$msgid < 0}  return\n    } else {\n        # line null too, try using first in folder\n        if {[string length $line] == 0} { set line 1 }\n        set msgid [Ftoc_MsgNumber [Ftoc_FindMsg $msgid $line]]\n    }\n    Ftoc_ClearCurrent\n    Mh_SetCur $exmh(folder) $msgid\n    Ftoc_ShowSequences $exmh(folder)\n\nThe Ftoc_ClearCurrent calls Ftoc_RescanLIne to clear the '+' sign \n_before_ the on-disk transition is made. I hacked this stuff and more \nor less changed the order. It works, but fails on some folder changes.\n\nMy feeling of this is that we really do not want to have a \nFtoc_ClearCurrent, but rather just a RescanLine and the caller had \nbetter know the line or msgid. That routine shoud just put in the '+' \nif the line/msg in question happened to be the cur msg. Thoughts?\n\n\n/Anders\n\n\n\n\n\n\n\n\n\n\n_______________________________________________\nExmh-workers mailing list\nExmh-workers@redhat.com\nhttps://listman.redhat.com/mailman/listinfo/exmh-workers\n\n\n"}