{"id":"00211","group":"hard-ham-1","checksum":{"type":"MD5","value":"1ca67c3677fa0051ccfa27c756d32b5a"},"text":"Return-Path: ler@lerami.lerctr.org\nDelivery-Date: Tue Sep 10 10:32:40 2002\nReceived: via dmail-2002(12) for +lists/pgsql/novice; Tue, 10 Sep 2002 10:32:40 -0500 (CDT)\nReturn-Path: <pgsql-novice-owner+M4679@postgresql.org>\nReceived: from relay1.pgsql.com (relay1.pgsql.com [64.49.215.129])\n\tby lerami.lerctr.org (8.12.2/8.12.2/20020902/$Revision: 1.30 $) with ESMTP id g8AFWXE9015200\n\tfor <ler@lerctr.org>; Tue, 10 Sep 2002 10:32:34 -0500 (CDT)\nReceived: from postgresql.org (postgresql.org [64.49.215.8])\n\tby relay1.pgsql.com (Postfix) with ESMTP\n\tid E418F744506; Tue, 10 Sep 2002 11:32:25 -0400 (EDT)\nReceived: from localhost (postgresql.org [64.49.215.8])\n\tby postgresql.org (Postfix) with ESMTP id 0F199475ED1\n\tfor <pgsql-novice@postgresql.org>; Tue, 10 Sep 2002 11:32:15 -0400 (EDT)\nReceived: from technovell.com (213-97-10-232.uc.nombres.ttd.es [213.97.10.232])\n\tby postgresql.org (Postfix) with ESMTP id AF0A2476694\n\tfor <pgsql-novice@postgresql.org>; Tue, 10 Sep 2002 11:32:02 -0400 (EDT)\nReceived: from technovell.com yapt@technovell.com [192.168.1.200]\n\tby technovell.com with Novell NIMS $Revision:   2.88.1.1  $ on Linux;\n\tTue, 10 Sep 2002 17:46:54 +0100\nMessage-ID: <3D7E1074.7C4B1520@technovell.com>\nDate: Tue, 10 Sep 2002 17:32:04 +0200\nFrom: Terry Yapt <yapt@technovell.com>\nX-Mailer: Mozilla 4.79 [en] (Windows NT 5.0; U)\nX-Accept-Language: en\nMIME-Version: 1.0\nTo: pgsql-novice@postgresql.org\nSubject: [NOVICE] pl/pgsql and returns timestamp type\nContent-Type: text/plain; charset=us-ascii\nContent-Transfer-Encoding: 7bit\nX-Virus-Scanned: by amavisd-milter (http://amavis.org/)\nX-Virus-Scanned: by AMaViS new-20020517\nPrecedence: bulk\nSender: pgsql-novice-owner@postgresql.org\nX-Status: \nX-Keywords: \n\nHi all,\n\nI cannot to get this to run...  I think I am mistaking some basic concept or I have a big brain-lock .  Somebody know what is the problem to execute this function ?\n\nThanks in advance...\n\n--====================================\nDROP TABLE test;\nCREATE TABLE test\n(\n  clave numeric(7,0) not null,\n  PRIMARY KEY (clave)\n) WITHOUT OIDS;\n--====================================\nDROP FUNCTION f_test(numeric(7,0), numeric(7,0));\nCREATE OR REPLACE FUNCTION f_test(numeric(7,0), numeric(7,0)) RETURNS timestamp AS '\n  DECLARE\n    p_datod ALIAS FOR $1;\n    p_datoh ALIAS FOR $2;\n    --\n    tdesde timestamp;\n    thasta timestamp;\n  BEGIN\n    tdesde := now();\n    --\n    FOR X IN p_datod..p_datoh LOOP\n      INSERT INTO test VALUES (x);    \n    END LOOP;\n    --\n    thasta := now() - tdesde;\n    RETURN thasta;\n  COMMIT;\n  END;\n' LANGUAGE 'plpgsql';\n--====================================\nselect f_test(1,9);\n\n---------------------------(end of broadcast)---------------------------\nTIP 1: subscribe and unsubscribe commands go to majordomo@postgresql.org\n\n"}