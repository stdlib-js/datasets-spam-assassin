{"id":"01371","group":"easy-ham-1","checksum":{"type":"MD5","value":"2e4162848b6034ea5ba93431c6d69d36"},"text":"From spamassassin-commits-admin@lists.sourceforge.net  Thu Aug 29 11:07:34 2002\nReturn-Path: <spamassassin-commits-admin@example.sourceforge.net>\nDelivered-To: yyyy@localhost.netnoteinc.com\nReceived: from localhost (localhost [127.0.0.1])\n\tby phobos.labs.netnoteinc.com (Postfix) with ESMTP id E938744157\n\tfor <jm@localhost>; Thu, 29 Aug 2002 06:05:49 -0400 (EDT)\nReceived: from phobos [127.0.0.1]\n\tby localhost with IMAP (fetchmail-5.9.0)\n\tfor jm@localhost (single-drop); Thu, 29 Aug 2002 11:05:49 +0100 (IST)\nReceived: from usw-sf-list2.sourceforge.net (usw-sf-fw2.sourceforge.net\n    [216.136.171.252]) by dogma.slashnull.org (8.11.6/8.11.6) with ESMTP id\n    g7SNTpZ15202 for <jm@jmason.org>; Thu, 29 Aug 2002 00:29:52 +0100\nReceived: from usw-sf-list1-b.sourceforge.net ([10.3.1.13]\n    helo=usw-sf-list1.sourceforge.net) by usw-sf-list2.sourceforge.net with\n    esmtp (Exim 3.31-VA-mm2 #1 (Debian)) id 17kCGA-00016L-00; Wed,\n    28 Aug 2002 16:30:02 -0700\nReceived: from usw-sf-sshgate.sourceforge.net ([216.136.171.253]\n    helo=usw-sf-netmisc.sourceforge.net) by usw-sf-list1.sourceforge.net with\n    esmtp (Cipher TLSv1:DES-CBC3-SHA:168) (Exim 3.31-VA-mm2 #1 (Debian)) id\n    17kCFH-0007gM-00 for <spamassassin-commits@lists.sourceforge.net>;\n    Wed, 28 Aug 2002 16:29:07 -0700\nReceived: from usw-pr-cvs1-b.sourceforge.net ([10.5.1.7]\n    helo=usw-pr-cvs1.sourceforge.net) by usw-sf-netmisc.sourceforge.net with\n    esmtp (Exim 3.22 #1 (Debian)) id 17kCFG-0007lf-00 for\n    <spamassassin-commits@lists.sourceforge.net>; Wed, 28 Aug 2002 16:29:06\n    -0700\nReceived: from yyyyason by usw-pr-cvs1.sourceforge.net with local (Exim 3.22\n    #1 (Debian)) id 17kCFG-00041w-00 for\n    <spamassassin-commits@lists.sourceforge.net>; Wed, 28 Aug 2002 16:29:06\n    -0700\nTo: spamassassin-commits@example.sourceforge.net\nMessage-Id: <E17kCFG-00041w-00@usw-pr-cvs1.sourceforge.net>\nFrom: Justin Mason <yyyyason@users.sourceforge.net>\nSubject: [SACVS] CVS: spamassassin configure,1.1.2.1,1.1.2.2\n    configure.in,1.1.2.1,1.1.2.2\nSender: spamassassin-commits-admin@example.sourceforge.net\nErrors-To: spamassassin-commits-admin@example.sourceforge.net\nX-Beenthere: spamassassin-commits@example.sourceforge.net\nX-Mailman-Version: 2.0.9-sf.net\nPrecedence: bulk\nList-Help: <mailto:spamassassin-commits-request@example.sourceforge.net?subject=help>\nList-Post: <mailto:spamassassin-commits@example.sourceforge.net>\nList-Subscribe: <https://example.sourceforge.net/lists/listinfo/spamassassin-commits>,\n    <mailto:spamassassin-commits-request@lists.sourceforge.net?subject=subscribe>\nList-Id: <spamassassin-commits.example.sourceforge.net>\nList-Unsubscribe: <https://example.sourceforge.net/lists/listinfo/spamassassin-commits>,\n    <mailto:spamassassin-commits-request@lists.sourceforge.net?subject=unsubscribe>\nList-Archive: <http://www.geocrawler.com/redir-sf.php3?list=spamassassin-commits>\nX-Original-Date: Wed, 28 Aug 2002 16:29:06 -0700\nDate: Wed, 28 Aug 2002 16:29:06 -0700\n\nUpdate of /cvsroot/spamassassin/spamassassin\nIn directory usw-pr-cvs1:/tmp/cvs-serv15398\n\nModified Files:\n      Tag: b2_4_0\n\tconfigure configure.in \nLog Message:\nNetBSD support patch from Klaus Heinz, bug 785\n\nIndex: configure\n===================================================================\nRCS file: /cvsroot/spamassassin/spamassassin/configure,v\nretrieving revision 1.1.2.1\nretrieving revision 1.1.2.2\ndiff -b -w -u -d -r1.1.2.1 -r1.1.2.2\n--- configure\t27 Aug 2002 23:07:13 -0000\t1.1.2.1\n+++ configure\t28 Aug 2002 23:29:04 -0000\t1.1.2.2\n@@ -1273,18 +1273,22 @@\n                  cat > conftest.$ac_ext <<EOF\n #line 1275 \"configure\"\n #include \"confdefs.h\"\n+#include <sys/types.h>\n #include <sys/socket.h>\n+int main() {\n+printf (\"%d\", SHUT_RD); return 0;\n+; return 0; }\n EOF\n-if (eval \"$ac_cpp conftest.$ac_ext\") 2>&5 |\n-  egrep \"SHUT_RD\" >/dev/null 2>&1; then\n+if { (eval echo configure:1283: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   shutrd=yes\n else\n+  echo \"configure: failed program was:\" >&5\n+  cat conftest.$ac_ext >&5\n   rm -rf conftest*\n   shutrd=no\n fi\n-rm -f conftest*\n-\n+rm -f conftest*,\n        \n fi\n \n@@ -1298,7 +1302,7 @@\n \n \n echo $ac_n \"checking for socket in -lsocket\"\"... $ac_c\" 1>&6\n-echo \"configure:1302: checking for socket in -lsocket\" >&5\n+echo \"configure:1306: checking for socket in -lsocket\" >&5\n ac_lib_var=`echo socket'_'socket | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n@@ -1306,7 +1310,7 @@\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-lsocket  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 1310 \"configure\"\n+#line 1314 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -1317,7 +1321,7 @@\n socket()\n ; return 0; }\n EOF\n-if { (eval echo configure:1321: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:1325: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -1345,7 +1349,7 @@\n fi\n \n echo $ac_n \"checking for connect in -linet\"\"... $ac_c\" 1>&6\n-echo \"configure:1349: checking for connect in -linet\" >&5\n+echo \"configure:1353: checking for connect in -linet\" >&5\n ac_lib_var=`echo inet'_'connect | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n@@ -1353,7 +1357,7 @@\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-linet  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 1357 \"configure\"\n+#line 1361 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -1364,7 +1368,7 @@\n connect()\n ; return 0; }\n EOF\n-if { (eval echo configure:1368: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:1372: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -1392,7 +1396,7 @@\n fi\n \n echo $ac_n \"checking for t_accept in -lnsl\"\"... $ac_c\" 1>&6\n-echo \"configure:1396: checking for t_accept in -lnsl\" >&5\n+echo \"configure:1400: checking for t_accept in -lnsl\" >&5\n ac_lib_var=`echo nsl'_'t_accept | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n@@ -1400,7 +1404,7 @@\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-lnsl  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 1404 \"configure\"\n+#line 1408 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -1411,7 +1415,7 @@\n t_accept()\n ; return 0; }\n EOF\n-if { (eval echo configure:1415: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:1419: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -1439,7 +1443,7 @@\n fi\n \n echo $ac_n \"checking for dlopen in -ldl\"\"... $ac_c\" 1>&6\n-echo \"configure:1443: checking for dlopen in -ldl\" >&5\n+echo \"configure:1447: checking for dlopen in -ldl\" >&5\n ac_lib_var=`echo dl'_'dlopen | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n@@ -1447,7 +1451,7 @@\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-ldl  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 1451 \"configure\"\n+#line 1455 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -1458,7 +1462,7 @@\n dlopen()\n ; return 0; }\n EOF\n-if { (eval echo configure:1462: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:1466: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -1489,12 +1493,12 @@\n for ac_func in socket strdup strtod strtol snprintf shutdown\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:1493: checking for $ac_func\" >&5\n+echo \"configure:1497: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1498 \"configure\"\n+#line 1502 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -1517,7 +1521,7 @@\n \n ; return 0; }\n EOF\n-if { (eval echo configure:1521: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:1525: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -1544,20 +1548,20 @@\n \n \n echo $ac_n \"checking for h_errno\"\"... $ac_c\" 1>&6\n-echo \"configure:1548: checking for h_errno\" >&5\n+echo \"configure:1552: checking for h_errno\" >&5\n if eval \"test \\\"`echo '$''{'herrno'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   \n                 cat > conftest.$ac_ext <<EOF\n-#line 1554 \"configure\"\n+#line 1558 \"configure\"\n #include \"confdefs.h\"\n #include <netdb.h>\n int main() {\n printf (\"%d\", h_errno); return 0;\n ; return 0; }\n EOF\n-if { (eval echo configure:1561: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:1565: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   herrno=yes\n else\n@@ -1580,20 +1584,20 @@\n \n \n echo $ac_n \"checking for optarg\"\"... $ac_c\" 1>&6\n-echo \"configure:1584: checking for optarg\" >&5\n+echo \"configure:1588: checking for optarg\" >&5\n if eval \"test \\\"`echo '$''{'haveoptarg'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   \n                 cat > conftest.$ac_ext <<EOF\n-#line 1590 \"configure\"\n+#line 1594 \"configure\"\n #include \"confdefs.h\"\n #include <getopt.h>\n int main() {\n if (optarg == (char *) 0L) { return 0; } return 1;\n ; return 0; }\n EOF\n-if { (eval echo configure:1597: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:1601: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   haveoptarg=yes\n else\n@@ -1616,20 +1620,21 @@\n \n \n echo $ac_n \"checking for in_addr_t\"\"... $ac_c\" 1>&6\n-echo \"configure:1620: checking for in_addr_t\" >&5\n+echo \"configure:1624: checking for in_addr_t\" >&5\n if eval \"test \\\"`echo '$''{'inaddrt'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   \n                 cat > conftest.$ac_ext <<EOF\n-#line 1626 \"configure\"\n+#line 1630 \"configure\"\n #include \"confdefs.h\"\n+#include <sys/types.h>\n #include <netinet/in.h>\n int main() {\n in_addr_t foo; return 0;\n ; return 0; }\n EOF\n-if { (eval echo configure:1633: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:1638: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   inaddrt=yes\n else\n@@ -1645,12 +1650,12 @@\n echo \"$ac_t\"\"$inaddrt\" 1>&6\n if test $inaddrt = no ; then\n   echo $ac_n \"checking for in_addr_t\"\"... $ac_c\" 1>&6\n-echo \"configure:1649: checking for in_addr_t\" >&5\n+echo \"configure:1654: checking for in_addr_t\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_type_in_addr_t'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1654 \"configure\"\n+#line 1659 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #if STDC_HEADERS\n@@ -1681,20 +1686,21 @@\n \n \n echo $ac_n \"checking for INADDR_NONE\"\"... $ac_c\" 1>&6\n-echo \"configure:1685: checking for INADDR_NONE\" >&5\n+echo \"configure:1690: checking for INADDR_NONE\" >&5\n if eval \"test \\\"`echo '$''{'haveinaddrnone'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   \n                 cat > conftest.$ac_ext <<EOF\n-#line 1691 \"configure\"\n+#line 1696 \"configure\"\n #include \"confdefs.h\"\n+#include <sys/types.h>\n #include <netinet/in.h>\n int main() {\n in_addr_t foo = INADDR_NONE; return 0;\n ; return 0; }\n EOF\n-if { (eval echo configure:1698: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:1704: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   haveinaddrnone=yes\n else\n@@ -1717,20 +1723,23 @@\n \n \n echo $ac_n \"checking for EX__MAX\"\"... $ac_c\" 1>&6\n-echo \"configure:1721: checking for EX__MAX\" >&5\n+echo \"configure:1727: checking for EX__MAX\" >&5\n if eval \"test \\\"`echo '$''{'haveexmax'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   \n                 cat > conftest.$ac_ext <<EOF\n-#line 1727 \"configure\"\n+#line 1733 \"configure\"\n #include \"confdefs.h\"\n+#ifdef HAVE_SYSEXITS_H\n+#include <sysexits.h>\n+#endif\n #include <errno.h>\n int main() {\n int foo = EX__MAX; return 0;\n ; return 0; }\n EOF\n-if { (eval echo configure:1734: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:1743: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   haveexmax=yes\n else\n\nIndex: configure.in\n===================================================================\nRCS file: /cvsroot/spamassassin/spamassassin/configure.in,v\nretrieving revision 1.1.2.1\nretrieving revision 1.1.2.2\ndiff -b -w -u -d -r1.1.2.1 -r1.1.2.2\n--- configure.in\t27 Aug 2002 23:07:13 -0000\t1.1.2.1\n+++ configure.in\t28 Aug 2002 23:29:04 -0000\t1.1.2.2\n@@ -26,9 +26,11 @@\n \n AC_CACHE_CHECK([for SHUT_RD],\n        shutrd, [\n-                 AC_EGREP_HEADER(SHUT_RD, sys/socket.h,\n+                AC_TRY_COMPILE([#include <sys/types.h>\n+#include <sys/socket.h>],\n+                        [printf (\"%d\", SHUT_RD); return 0;],\n                                         [shutrd=yes],\n-                                        [shutrd=no])\n+                                        [shutrd=no]),\n        ])\n if test $shutrd = yes ; then\n   AC_DEFINE(HAVE_SHUT_RD)\n@@ -73,7 +75,8 @@\n \n AC_CACHE_CHECK([for in_addr_t],\n         inaddrt, [\n-                AC_TRY_COMPILE([#include <netinet/in.h>],\n+                AC_TRY_COMPILE([#include <sys/types.h>\n+#include <netinet/in.h>],\n                         [in_addr_t foo; return 0;],\n                                         [inaddrt=yes],\n                                         [inaddrt=no]),\n@@ -86,7 +89,8 @@\n \n AC_CACHE_CHECK([for INADDR_NONE],\n         haveinaddrnone, [\n-                AC_TRY_COMPILE([#include <netinet/in.h>],\n+                AC_TRY_COMPILE([#include <sys/types.h>\n+#include <netinet/in.h>],\n                         [in_addr_t foo = INADDR_NONE; return 0;],\n                                         [haveinaddrnone=yes],\n                                         [haveinaddrnone=no]),\n@@ -99,7 +103,10 @@\n \n AC_CACHE_CHECK([for EX__MAX],\n         haveexmax, [\n-                AC_TRY_COMPILE([#include <errno.h>],\n+                AC_TRY_COMPILE([#ifdef HAVE_SYSEXITS_H\n+#include <sysexits.h>\n+#endif\n+#include <errno.h>],\n                         [int foo = EX__MAX; return 0;],\n                                         [haveexmax=yes],\n                                         [haveexmax=no]),\n\n\n\n-------------------------------------------------------\nThis sf.net email is sponsored by: Jabber - The world's fastest growing \nreal-time communications platform! Don't just IM. Build it in! \nhttp://www.jabber.com/osdn/xim\n_______________________________________________\nSpamassassin-commits mailing list\nSpamassassin-commits@lists.sourceforge.net\nhttps://lists.sourceforge.net/lists/listinfo/spamassassin-commits\n\n"}