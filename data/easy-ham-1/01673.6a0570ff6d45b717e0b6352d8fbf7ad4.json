{"id":"01673","group":"easy-ham-1","checksum":{"type":"MD5","value":"6a0570ff6d45b717e0b6352d8fbf7ad4"},"text":"Return-Path: neale@woozle.org\nDelivery-Date: Fri Sep  6 20:58:33 2002\nFrom: neale@woozle.org (Neale Pickett)\nDate: 06 Sep 2002 12:58:33 -0700\nSubject: [Spambayes] Deployment\nIn-Reply-To: <LNBBLJKPBEHFEDALKOLCGEIPBCAB.tim.one@comcast.net>\nReferences: <LNBBLJKPBEHFEDALKOLCGEIPBCAB.tim.one@comcast.net>\nMessage-ID: <w53znuuc2l2.fsf@woozle.org>\n\nSo then, Tim Peters <tim.one@comcast.net> is all like:\n\n> [Guido]\n> >   ...\n> >   I don't know how big that pickle would be, maybe loading it each time\n> >   is fine.  Or maybe marshalling.)\n> \n> My tests train on about 7,000 msgs, and a binary pickle of the database is\n> approaching 10 million bytes.\n\nMy paltry 3000-message training set makes a 6.3MB (where 1MB=1e6 bytes)\npickle.  hammie.py, which I just checked in, will optionally let you\nwrite stuff out to a dbm file.  With that same message base, the dbm\nfile weighs in at a hefty 21.4MB.  It also takes longer to write:\n\n  Using a database:\n   real    8m24.741s\n   user    6m19.410s\n   sys     1m33.650s\n\n  Using a pickle:\n   real    1m39.824s\n   user    1m36.400s\n   sys     0m2.160s\n\nThis is on a PIII at 551.257MHz (I don't know what it's *supposed* to\nbe, 551.257 is what /proc/cpuinfo says).\n\nFor comparison, SpamOracle (currently the gold standard in my mind, at\nleast for speed) on the same data blazes along:\n\n   real    0m29.592s\n   user    0m28.050s\n   sys     0m1.180s\n\nIts data file, which appears to be a marshalled hash, is 448KB.\nHowever, it's compiled O'Caml and it uses a much simpler tokenizing\nalgorithm written with a lexical analyzer (ocamllex), so we'll never be\nable to outperform it.  It's something to keep in mind, though.\n\nI don't have statistics yet for scanning unknown messages.  (Actually, I\ndo, and the database blows the pickle out of the water, but it scores\nevery word with 0.00, so I'm not sure that's a fair test. ;)  In any\ncase, 21MB per user is probably too large, and 10MB is questionable.  \n\nOn the other hand, my pickle compressed very well with gzip, shrinking\ndown to 1.8MB.\n\nNeale\n"}