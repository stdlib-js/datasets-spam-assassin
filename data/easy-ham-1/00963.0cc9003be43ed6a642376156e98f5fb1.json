{"id":"00963","group":"easy-ham-1","checksum":{"type":"MD5","value":"0cc9003be43ed6a642376156e98f5fb1"},"text":"From exmh-workers-admin@redhat.com  Wed Aug 28 17:25:35 2002\nReturn-Path: <exmh-workers-admin@spamassassin.taint.org>\nDelivered-To: yyyy@localhost.netnoteinc.com\nReceived: from localhost (localhost [127.0.0.1])\n\tby phobos.labs.netnoteinc.com (Postfix) with ESMTP id DD35543F9B\n\tfor <jm@localhost>; Wed, 28 Aug 2002 12:25:33 -0400 (EDT)\nReceived: from phobos [127.0.0.1]\n\tby localhost with IMAP (fetchmail-5.9.0)\n\tfor jm@localhost (single-drop); Wed, 28 Aug 2002 17:25:33 +0100 (IST)\nReceived: from webnote.net (mail.webnote.net [193.120.211.219]) by\n    dogma.slashnull.org (8.11.6/8.11.6) with ESMTP id g7SGOjZ00420 for\n    <jm-exmh@jmason.org>; Wed, 28 Aug 2002 17:24:45 +0100\nReceived: from listman.spamassassin.taint.org (listman.spamassassin.taint.org [66.187.233.211]) by\n    webnote.net (8.9.3/8.9.3) with ESMTP id RAA05535 for <jm-exmh@jmason.org>;\n    Wed, 28 Aug 2002 17:24:56 +0100\nReceived: from listman.spamassassin.taint.org (localhost.localdomain [127.0.0.1]) by\n    listman.redhat.com (Postfix) with ESMTP id 904EC40FA9; Wed, 28 Aug 2002\n    12:17:08 -0400 (EDT)\nDelivered-To: exmh-workers@listman.spamassassin.taint.org\nReceived: from int-mx1.corp.spamassassin.taint.org (int-mx1.corp.spamassassin.taint.org\n    [172.16.52.254]) by listman.redhat.com (Postfix) with ESMTP id 5EB54411CA\n    for <exmh-workers@listman.redhat.com>; Wed, 28 Aug 2002 11:40:09 -0400\n    (EDT)\nReceived: (from mail@localhost) by int-mx1.corp.spamassassin.taint.org (8.11.6/8.11.6)\n    id g7SFe5i16307 for exmh-workers@listman.redhat.com; Wed, 28 Aug 2002\n    11:40:05 -0400\nReceived: from mx1.spamassassin.taint.org (mx1.spamassassin.taint.org [172.16.48.31]) by\n    int-mx1.corp.redhat.com (8.11.6/8.11.6) with SMTP id g7SFe5Y16300 for\n    <exmh-workers@redhat.com>; Wed, 28 Aug 2002 11:40:05 -0400\nReceived: from austin-jump.vircio.com (jump-austin.vircio.com\n    [192.12.3.99]) by mx1.redhat.com (8.11.6/8.11.6) with SMTP id g7SFP0l27152\n    for <exmh-workers@redhat.com>; Wed, 28 Aug 2002 11:25:00 -0400\nReceived: (qmail 30298 invoked by uid 104); 28 Aug 2002 15:40:04 -0000\nReceived: from cwg-exmh@DeepEddy.Com by localhost.localdomain with\n    qmail-scanner-0.90 (uvscan: v4.1.60/v4219. . Clean. Processed in 0.361811\n    secs); 28/08/2002 10:40:04\nReceived: from deepeddy.vircio.com (@[10.1.2.1]) (envelope-sender\n    <cwg-exmh@DeepEddy.Com>) by austin-jump.vircio.com (qmail-ldap-1.03) with\n    SMTP for <exmh-workers@redhat.com>; 28 Aug 2002 15:40:04 -0000\nReceived: (qmail 11441 invoked from network); 28 Aug 2002 15:40:01 -0000\nReceived: from localhost (HELO deepeddy.vircio.com)\n    (?t2lZKiBIqj1XaYC6urc1Q8OBukd5uEA0?@[127.0.0.1]) (envelope-sender\n    <cwg-exmh@DeepEddy.Com>) by localhost (qmail-ldap-1.03) with SMTP for\n    <exmh-workers@redhat.com>; 28 Aug 2002 15:40:01 -0000\nX-Mailer: exmh version 2.5 07/13/2001 with nmh-1.0.4\nTo: Robert Elz <kre@munnari.OZ.AU>\nCc: exmh-workers@spamassassin.taint.org\nSubject: Re: New Sequences Window\nIn-Reply-To: <22628.1030545866@munnari.OZ.AU>\nReferences: <1030544555.28815.TMDA@deepeddy.vircio.com>\n    <1030028647.6462.TMDA@deepeddy.vircio.com>\n    <1029945287.4797.TMDA@deepeddy.vircio.com>\n    <1029882468.3116.TMDA@deepeddy.vircio.com> <9627.1029933001@munnari.OZ.AU>\n    <1029943066.26919.TMDA@deepeddy.vircio.com>\n    <1029944441.398.TMDA@deepeddy.vircio.com> <13277.1030015920@munnari.OZ.AU>\n    <21099.1030543590@munnari.OZ.AU> <22628.1030545866@munnari.OZ.AU>\nX-Url: http://www.DeepEddy.Com/~cwg\nX-Image-Url: http://www.DeepEddy.Com/~cwg/chris.gif\nMIME-Version: 1.0\nContent-Type: multipart/signed;\n    boundary=\"==_Exmh_893671157P\";\n    micalg=pgp-sha1;\n    protocol=\"application/pgp-signature\"\nContent-Transfer-Encoding: 7bit\nMessage-Id: <1030549201.11428.TMDA@deepeddy.vircio.com>\nFrom: Chris Garrigues <cwg-exmh@DeepEddy.Com>\nX-Delivery-Agent: TMDA/0.57\nReply-To: Chris Garrigues <cwg-dated-1030981201.767997@DeepEddy.Com>\nX-Loop: exmh-workers@spamassassin.taint.org\nSender: exmh-workers-admin@spamassassin.taint.org\nErrors-To: exmh-workers-admin@spamassassin.taint.org\nX-Beenthere: exmh-workers@spamassassin.taint.org\nX-Mailman-Version: 2.0.1\nPrecedence: bulk\nList-Help: <mailto:exmh-workers-request@spamassassin.taint.org?subject=help>\nList-Post: <mailto:exmh-workers@spamassassin.taint.org>\nList-Subscribe: <https://listman.spamassassin.taint.org/mailman/listinfo/exmh-workers>,\n    <mailto:exmh-workers-request@redhat.com?subject=subscribe>\nList-Id: Discussion list for EXMH developers <exmh-workers.spamassassin.taint.org>\nList-Unsubscribe: <https://listman.spamassassin.taint.org/mailman/listinfo/exmh-workers>,\n    <mailto:exmh-workers-request@redhat.com?subject=unsubscribe>\nList-Archive: <https://listman.spamassassin.taint.org/mailman/private/exmh-workers/>\nDate: Wed, 28 Aug 2002 10:39:59 -0500\n\n--==_Exmh_893671157P\nContent-Type: text/plain; charset=us-ascii\n\n> From:  Robert Elz <kre@munnari.OZ.AU>\n> Date:  Wed, 28 Aug 2002 21:44:26 +0700\n>\n>     Date:        Wed, 28 Aug 2002 09:22:34 -0500\n>     From:        Chris Garrigues <cwg-dated-1030976555.34ad5b@DeepEddy.Com>\n>     Message-ID:  <1030544555.28815.TMDA@deepeddy.vircio.com>\n> \n> \n>   | so I'll probably poke around at the sequences performance issues,\n> \n> Well, there's this wonderful piece of code in MhSeqExpand ...\n> \n>     # Hack to weed out sequence numbers for messages that don't exist\n>     foreach m $rseq {\n>         if ![file exists $mhProfile(path)/$folder/$m] {\n>             Exmh_Debug $mhProfile(path)/$folder/$m not found\n>             set ix [lsearch $seq $m]\n>             set seq [lreplace $seq $ix $ix]\n>         } else {\n>             # Real hack\n>             break\n>         }\n>     }\n> \n> which is going to run slow if a sequence happens to start with a bunch\n> of messages that don't exist.   I'm not sure why it is important that the\n> first message in the sequence returned exists, but not necessarily any\n> of the others, but I'm sure glad it is, as MhSeqExpand gets called lots,\n> and I don't know if I could cope if it were checking every file in the\n> sequences it is looking at, all the time...\n\nAlthough my fingerprints are all over that, it's not actually my code and has \nbeen in there since before 1998.  (It's code that I moved from mh.tcl to \nsequences.tcl and back again).  I'm no5 sure either, but it should be a \none-time penalty because the sequence will be re-written with the bad messages \nremoved.  (I think.)\n\n> It may help to keep a list of the valid message numbers for the current\n> folder (though that would then need to be verified against changes to the\n> directory).   Does tcl have a directory read function?   I assume so...\n> \n> Mh_Sequence also goes and rereads the files (.mh_sequences and the\n> context file) but I'm not sure how frequently that one is called.\n\nThat *was* a problem, but if you look at Mh_Sequence (and Mh_Sequences and \nMh_SequenceUpdate), they all call MhReadSeqs to do the actual reading and it \nonly reads the sequences if the file has been touched.  Look for the \n\"Exmh_Debug Reading $filename\" output in the debug log to see when sequences \nare actually reread from disk.\n\n\nMy theory is that Ftoc_ShowSequences is being called too often.  I'm about to \ninvestigate that.\n\n>   | I'll email anything I figure out since I'm leaving town in less \n>   | than 48 hours.\n> \n> Have a good vacation.\n\nThanks.\n\nChris\n\n-- \nChris Garrigues                 http://www.DeepEddy.Com/~cwg/\nvirCIO                          http://www.virCIO.Com\n716 Congress, Suite 200\nAustin, TX  78701\t\t+1 512 374 0500\n\n  World War III:  The Wrong-Doers Vs. the Evil-Doers.\n\n\n\n\n--==_Exmh_893671157P\nContent-Type: application/pgp-signature\n\n-----BEGIN PGP SIGNATURE-----\nVersion: GnuPG v1.0.6 (GNU/Linux)\nComment: Exmh version 2.2_20000822 06/23/2000\n\niD8DBQE9bO7PK9b4h5R0IUIRAqBBAJ4uhmwloTb4sSG6jDwcm0ul4RvDegCfe8no\n+6oHNBLG/UnfWMlQoaSidZA=\n=44Ra\n-----END PGP SIGNATURE-----\n\n--==_Exmh_893671157P--\n\n\n\n_______________________________________________\nExmh-workers mailing list\nExmh-workers@redhat.com\nhttps://listman.redhat.com/mailman/listinfo/exmh-workers\n\n"}