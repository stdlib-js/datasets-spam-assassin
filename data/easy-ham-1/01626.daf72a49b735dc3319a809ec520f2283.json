{"id":"01626","group":"easy-ham-1","checksum":{"type":"MD5","value":"daf72a49b735dc3319a809ec520f2283"},"text":"From secprog-return-485-jm=jmason.org@securityfocus.com  Fri Sep  6 11:38:51 2002\nReturn-Path: <secprog-return-485-yyyy=spamassassin.taint.org@securityfocus.com>\nDelivered-To: yyyy@localhost.spamassassin.taint.org\nReceived: from localhost (jalapeno [127.0.0.1])\n\tby jmason.org (Postfix) with ESMTP id 983E216F6D\n\tfor <jm@localhost>; Fri,  6 Sep 2002 11:37:33 +0100 (IST)\nReceived: from jalapeno [127.0.0.1]\n\tby localhost with IMAP (fetchmail-5.9.0)\n\tfor jm@localhost (single-drop); Fri, 06 Sep 2002 11:37:33 +0100 (IST)\nReceived: from webnote.net (mail.webnote.net [193.120.211.219]) by\n    dogma.slashnull.org (8.11.6/8.11.6) with ESMTP id g869wcC29994 for\n    <jm@jmason.org>; Fri, 6 Sep 2002 10:58:38 +0100\nReceived: from outgoing.securityfocus.com (outgoing3.securityfocus.com\n    [66.38.151.27]) by webnote.net (8.9.3/8.9.3) with ESMTP id UAA17986 for\n    <jm@jmason.org>; Thu, 5 Sep 2002 20:39:45 +0100\nReceived: from lists.securityfocus.com (lists.securityfocus.com\n    [66.38.151.19]) by outgoing.securityfocus.com (Postfix) with QMQP id\n    26D1DA3106; Thu,  5 Sep 2002 10:42:53 -0600 (MDT)\nMailing-List: contact secprog-help@securityfocus.com; run by ezmlm\nPrecedence: bulk\nList-Id: <secprog.list-id.securityfocus.com>\nList-Post: <mailto:secprog@securityfocus.com>\nList-Help: <mailto:secprog-help@securityfocus.com>\nList-Unsubscribe: <mailto:secprog-unsubscribe@securityfocus.com>\nList-Subscribe: <mailto:secprog-subscribe@securityfocus.com>\nDelivered-To: mailing list secprog@securityfocus.com\nDelivered-To: moderator for secprog@securityfocus.com\nReceived: (qmail 4920 invoked from network); 4 Sep 2002 23:14:36 -0000\nMessage-Id: <3D76977B.9010606@wirex.com>\nDate: Wed, 04 Sep 2002 16:30:03 -0700\nFrom: Crispin Cowan <crispin@wirex.com>\nOrganization: WireX Communications, Inc.\nUser-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.1) Gecko/20020827\nX-Accept-Language: en-us, en\nMIME-Version: 1.0\nTo: Ben Mord <bmord@icon-nicholson.com>\nCc: \"Webappsec Securityfocus.Com\" <webappsec@securityfocus.com>,\n\tSECPROG Securityfocus <SECPROG@securityfocus.com>\nSubject: Re: use of base image / delta image for automated recovery from\n    attacks\nReferences: <NAEOJLMPJMJDFPLHIOJOMEGLDBAA.bmord@icon-nicholson.com>\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed\nContent-Transfer-Encoding: 7bit\n\nBen Mord wrote:\n\n>     -----Original Message-----\n>     *From:* Crispin Cowan [mailto:crispin@wirex.com]\n>     *Sent:* Wednesday, September 04, 2002 5:46 PM\n>     *To:* Ben Mord\n>     *Cc:* Webappsec Securityfocus.Com; SECPROG Securityfocus\n>     *Subject:* Re: use of base image / delta image for automated\n>     recovery from attacks\n>\n>     Ben Mord wrote:\n>\n>>I was inspired by a mode of operation supported by VMWare. [use VMWare's ability to rolll back state to recover from intrusions]\n>>\n>     I did my dissertation work in this area (Optimistic Computing\n>     <http://www.cse.ogi.edu/%7Ecrispin/hope.pubs.html>) and so was\n>     interested in applying it to the security problem. Unfortunately,\n>     you hit a bunch of problems:\n>\n>         * When can you \"commit\" a state as being \"good\"?  You can't\n>           run from a redo log forever; the performance and storage\n>           penalties accumulate. Even log structured file systems\n>           garbage collect eventually. So you have to commit sometime.\n>           The problem is that if you commit too eagerly, you might\n>           commit corrupted state. If you commit too conservatively,\n>           you eat performance and storage penalties.\n>         * What do you do if you discover that there is corrupted state\n>           in the *middle* of your redo log, and you want some of the\n>           critical state that comes after it? You need some way to dig\n>           the corruption out of the middle and save the rest. My\n>           dissertation solves this problem, but you have to re-write\n>           everything in my programming language :)\n>         * Just doing this at all imposes substantial performance\n>           penalties. I love VMWare, and use it every day (the best\n>           $200 I ever spent on software) but it is not very fast.   \n>\n> My proposed solution to the first two problems you mention is to be \n> less ambitious. The idea is that you *never* commit - instead, you \n> simply revert to base state on reboot.\n\nAh. In that case, you can use something considerably less powerful than \nVMWare. All you need is a machine configured to boot from CD-ROM and use \na RAM disk for scratch space. Numerous Linux distros are available that \nlet you boot a stateless but functional system from CD-ROM.\n\n> Obviously, you can't do this with partitions that accrue important \n> state, e.g. a partition that stores database table data.\n\n... but if you *do* want some state to persist, then you need a \nmountable writable partition. To protect it, you need some kind of \naccess control management to decide who can do what to the writable \npartition, blah blah blah ... and before you know it, the security \nproblem starts to look just like it does for conventional servers.\n\nSimple approxmation to this: make /usr a separate partion, and mount it \nread-only:\n\n    * The good news: attackers that want to trojan your software have to\n      reboot, at least.\n    * The bad news: administrators that want to update your software\n      have to reboot, at least.\n\nCrispin\n\n-- \nCrispin Cowan, Ph.D.\nChief Scientist, WireX                      http://wirex.com/~crispin/\nSecurity Hardened Linux Distribution:       http://immunix.org\nAvailable for purchase: http://wirex.com/Products/Immunix/purchase.html\n\n\n\n"}