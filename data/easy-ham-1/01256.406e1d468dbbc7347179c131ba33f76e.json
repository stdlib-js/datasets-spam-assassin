{"id":"01256","group":"easy-ham-1","checksum":{"type":"MD5","value":"406e1d468dbbc7347179c131ba33f76e"},"text":"From rpm-list-admin@freshrpms.net  Sat Oct  5 12:38:12 2002\nReturn-Path: <rpm-zzzlist-admin@freshrpms.net>\nDelivered-To: yyyy@localhost.spamassassin.taint.org\nReceived: from localhost (jalapeno [127.0.0.1])\n\tby jmason.org (Postfix) with ESMTP id 6068F16F17\n\tfor <jm@localhost>; Sat,  5 Oct 2002 12:38:11 +0100 (IST)\nReceived: from jalapeno [127.0.0.1]\n\tby localhost with IMAP (fetchmail-5.9.0)\n\tfor jm@localhost (single-drop); Sat, 05 Oct 2002 12:38:11 +0100 (IST)\nReceived: from egwn.net (ns2.egwn.net [193.172.5.4]) by\n    dogma.slashnull.org (8.11.6/8.11.6) with ESMTP id g95ASmK06400 for\n    <jm-rpm@jmason.org>; Sat, 5 Oct 2002 11:28:48 +0100\nReceived: from auth02.nl.egwn.net (localhost [127.0.0.1]) by egwn.net\n    (8.11.6/8.11.6/EGWN) with ESMTP id g95AN2f11627; Sat, 5 Oct 2002 12:23:02\n    +0200\nReceived: from marvin.home.priv (adsl-66-124-59-34.dsl.anhm01.pacbell.net\n    [66.124.59.34]) by egwn.net (8.11.6/8.11.6/EGWN) with ESMTP id\n    g95ALjf32662 for <rpm-list@freshrpms.net>; Sat, 5 Oct 2002 12:21:45 +0200\nReceived: by marvin.home.priv (Postfix, from userid 500) id CC895203D4;\n    Sat,  5 Oct 2002 03:21:43 -0700 (PDT)\nFrom: Gary Peck <gbpeck@sbcglobal.net>\nTo: rpm-zzzlist@freshrpms.net\nSubject: Re: alsa-driver.spec tweak for homemade kernels\nMessage-Id: <20021005102143.GA6915@marvin.home.priv>\nMail-Followup-To: Gary Peck <gbpeck@sbcglobal.net>,\n\trpm-list@freshrpms.net\nReferences: <3D9AA650.2000909@eecs.berkeley.edu>\n    <20021002100919.2e3168a8.matthias@rpmforge.net>\n    <20021002193602.GC6266@taz.home.priv>\n    <20021002224504.13c35679.matthias@rpmforge.net>\nMIME-Version: 1.0\nContent-Type: text/plain; charset=us-ascii\nContent-Disposition: inline\nIn-Reply-To: <20021002224504.13c35679.matthias@rpmforge.net>\nUser-Agent: Mutt/1.4i\nX-Mailscanner: Found to be clean, Found to be clean\nSender: rpm-zzzlist-admin@freshrpms.net\nErrors-To: rpm-zzzlist-admin@freshrpms.net\nX-Beenthere: rpm-zzzlist@freshrpms.net\nX-Mailman-Version: 2.0.11\nPrecedence: bulk\nReply-To: rpm-zzzlist@freshrpms.net\nList-Help: <mailto:rpm-zzzlist-request@freshrpms.net?subject=help>\nList-Post: <mailto:rpm-zzzlist@freshrpms.net>\nList-Subscribe: <http://lists.freshrpms.net/mailman/listinfo/rpm-zzzlist>,\n    <mailto:rpm-list-request@freshrpms.net?subject=subscribe>\nList-Id: Freshrpms RPM discussion list <rpm-zzzlist.freshrpms.net>\nList-Unsubscribe: <http://lists.freshrpms.net/mailman/listinfo/rpm-zzzlist>,\n    <mailto:rpm-list-request@freshrpms.net?subject=unsubscribe>\nList-Archive: <http://lists.freshrpms.net/pipermail/rpm-zzzlist/>\nX-Original-Date: Sat, 5 Oct 2002 03:21:43 -0700\nDate: Sat, 5 Oct 2002 03:21:43 -0700\n\nOn Wed, Oct 02, 2002 at 10:45:04PM +0200, Matthias Saou wrote:\n> > So I've attached a patch to specify an alternate kernel by setting the\n> > \"TARGET_KERNEL\" environment variable before running rpmbuild. You\n> > still need to have the rpm for the specified kernel installed, but at\n> > least it doesn't have to be currently running. It's kinda hackish, so\n> > if someone has a better way to do this, let me know.\n> \n> That idea looks good although it maybe needs to be tweaked a bit more (what\n> you sent doesn't support packages named \"kernel-smp\"). I'd also prefer a\n> cleaner way than the env variable, and preferrably not editing the spec...\n> probably \"--define 'target 2.4.xx-xx' --with smp\". Sound good enough?\n> The BuildRequires on \"kernel-source\" will also need to be removed because\n> it won't necessarily need to be true, and that does bug me a bit :-/\n\nThe \"--define\" is exactly what I was looking for! I was trying to\nfigure out a way to do it within the mechanism of rpm (like the\n\"--with\" switches), but for some reason didn't think of using\n\"--define\". My computer is currently gone for repairs, but once it's\nback, I'll rewrite the specfile, add support for kernel-smp, and email\nit to the list for further criticism :)\n\nAs far as requiring kernel-source, I don't feel it's a big problem. If\nyou're gonna go to the trouble of packaging custom kernels into rpms,\nit's not a far stretch to package the source tree too (as I currently\ndo).\n\nAlso, I've found that the alsa-driver source needs a usb-related patch \nto compile under the latest test kernels (2.4.20-preX). Are other \npeople seeing the same thing, or is this just a problem with my setup?\n\ngary\n\nP.S. If I didn't mention it before, thanks for the alsa packages! They \ngreatly simplified what used to take way too long before.\n\n_______________________________________________\nRPM-List mailing list <RPM-List@freshrpms.net>\nhttp://lists.freshrpms.net/mailman/listinfo/rpm-list\n\n\n"}