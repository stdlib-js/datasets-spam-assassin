{"id":"01754","group":"easy-ham-1","checksum":{"type":"MD5","value":"8fbef0589564bb19c088156227772fb9"},"text":"Return-Path: tim.one@comcast.net\nDelivery-Date: Thu Sep 12 01:13:06 2002\nFrom: tim.one@comcast.net (Tim Peters)\nDate: Wed, 11 Sep 2002 20:13:06 -0400\nSubject: [Spambayes] Current histograms\nIn-Reply-To: <200209110423.g8B4Ndh07749@localhost.localdomain>\nMessage-ID: <LNBBLJKPBEHFEDALKOLCKEJBBDAB.tim.one@comcast.net>\n\n[Anthony Baxter]\n> 5 sets, each of 1800ham/1550spam, just ran the once (it matched all 5 to\n> each other...)\n>\n> rates.py sez:\n>\n> Training on Data/Ham/Set1 & Data/Spam/Set1 ... 1798 hams & 1548 spams\n>       0.445   0.388\n>       0.445   0.323\n>       2.108   4.072\n>       0.556   1.097\n> Training on Data/Ham/Set2 & Data/Spam/Set2 ... 1798 hams & 1546 spams\n>       2.113   0.517\n>       1.335   0.194\n>       3.106   5.365\n>       2.113   2.903\n> Training on Data/Ham/Set3 & Data/Spam/Set3 ... 1798 hams & 1547 spams\n>       2.447   0.646\n>       0.945   0.388\n>       2.884   3.426\n>       2.058   1.097\n> Training on Data/Ham/Set4 & Data/Spam/Set4 ... 1803 hams & 1547 spams\n>       1.057   2.584\n>       0.723   1.682\n>       0.890   1.164\n>       0.445   0.452\n> Training on Data/Ham/Set5 & Data/Spam/Set5 ... 1798 hams & 1550 spams\n>       0.779   4.328\n>       0.501   3.299\n>       0.667   3.361\n>       0.388   4.977\n> total false pos 273 3.03501945525\n> total false neg 367 4.74282760403\n\nHow were these msgs broken up into the 5 sets?  Set4 in particular is giving\nthe other sets severe problems, and Set5 blows the f-n rate on everything\nit's predicting -- when the rates across runs within a training set vary by\nas much as a factor of 25, it suggests there was systematic bias in the way\nthe sets were chosen.  For example, perhaps they were broken into sets by\narrival time.  If that's what you did, you should go back and break them\ninto sets randomly instead.  If you did partition them randomly, the wild\nvariance across runs is mondo mysterious.\n\n\n>> I expect hammie will do a much better job on this already than hand\n>> grepping.  Be sure to stare at the false positives and get the\n>> spam out of there.\n\n> Yah, but there's a chicken-and-egg problem there - I want stuff that's\n> _known_ to be right to test this stuff,\n\nThen you have to look at every message by eyeball -- any scheme has non-zero\nerror rates of both kinds.\n\n> so using the spambayes code to tell me whether it's spam is not\n> going to help.\n\nTrust me <wink> -- it helps a *lot*.  I expect everyone who has done any\ntesting here has discovered spam in their ham, and vice versa.  Results\nimprove as you improve the categorization.  Once the gross mistakes are\nstraightened out, it's much less tedious to scan the rest by eyeball.\n\n[on skip tokens]\n> Yep, it shows up in a lot of spam, but also in different forms in hams.\n> But the hams each manage to pick a different variant of\n> ~~~~~~~~~~~~~~~~~~~~~~\n> or whatever - so they don't end up counteracting the various bits in the\n> spam.\n>\n> Looking further, a _lot_ of the bad skip rubbish is coming from\n> uuencoded viruses &c in the spam-set.\n\nFor whatever reason, there appear to be few of those in BruceG's spam\ncollection.  I added code to strip uuencoded sections, and pump out uuencode\nsummary tokens instead.  I'll check it in.  It didn't make a significant\ndifference on my usual test run (a single spam in my Set4 is now judged as\nham by the other 4 sets; nothing else changed).  It does shrink the database\nsize here by a few percent.  Let us know whether it helps you!\n\nBefore and after stripping uuencoded sections:\n\nfalse positive percentages\n    0.000  0.000  tied\n    0.000  0.000  tied\n    0.050  0.050  tied\n    0.000  0.000  tied\n    0.025  0.025  tied\n    0.000  0.000  tied\n    0.075  0.075  tied\n    0.025  0.025  tied\n    0.025  0.025  tied\n    0.000  0.000  tied\n    0.050  0.050  tied\n    0.000  0.000  tied\n    0.025  0.025  tied\n    0.000  0.000  tied\n    0.000  0.000  tied\n    0.050  0.050  tied\n    0.025  0.025  tied\n    0.000  0.000  tied\n    0.025  0.025  tied\n    0.050  0.050  tied\n\nwon   0 times\ntied 20 times\nlost  0 times\n\ntotal unique fp went from 8 to 8 tied\n\nfalse negative percentages\n    0.255  0.255  tied\n    0.364  0.364  tied\n    0.254  0.291  lost   +14.57%\n    0.509  0.509  tied\n    0.436  0.436  tied\n    0.218  0.218  tied\n    0.182  0.218  lost   +19.78%\n    0.582  0.582  tied\n    0.327  0.327  tied\n    0.255  0.255  tied\n    0.254  0.291  lost   +14.57%\n    0.582  0.582  tied\n    0.545  0.545  tied\n    0.255  0.255  tied\n    0.291  0.291  tied\n    0.400  0.400  tied\n    0.291  0.291  tied\n    0.218  0.218  tied\n    0.218  0.218  tied\n    0.145  0.182  lost   +25.52%\n\nwon   0 times\ntied 16 times\nlost  4 times\n\ntotal unique fn went from 89 to 90 lost    +1.12%\n\n"}