{"id":"01216","group":"easy-ham-1","checksum":{"type":"MD5","value":"e30b39890b41cf8740b3315f79521f59"},"text":"From rpm-list-admin@freshrpms.net  Wed Oct  2 11:44:09 2002\nReturn-Path: <rpm-zzzlist-admin@freshrpms.net>\nDelivered-To: yyyy@localhost.spamassassin.taint.org\nReceived: from localhost (jalapeno [127.0.0.1])\n\tby jmason.org (Postfix) with ESMTP id 77D6A16F03\n\tfor <jm@localhost>; Wed,  2 Oct 2002 11:44:08 +0100 (IST)\nReceived: from jalapeno [127.0.0.1]\n\tby localhost with IMAP (fetchmail-5.9.0)\n\tfor jm@localhost (single-drop); Wed, 02 Oct 2002 11:44:08 +0100 (IST)\nReceived: from egwn.net (ns2.egwn.net [193.172.5.4]) by\n    dogma.slashnull.org (8.11.6/8.11.6) with ESMTP id g9283uK31858 for\n    <jm-rpm@jmason.org>; Wed, 2 Oct 2002 09:03:58 +0100\nReceived: from auth02.nl.egwn.net (localhost [127.0.0.1]) by egwn.net\n    (8.11.6/8.11.6/EGWN) with ESMTP id g927u1f09457; Wed, 2 Oct 2002 09:56:01\n    +0200\nReceived: from mta7.pltn13.pbi.net (mta7.pltn13.pbi.net [64.164.98.8]) by\n    egwn.net (8.11.6/8.11.6/EGWN) with ESMTP id g927sxf03169 for\n    <rpm-list@freshrpms.net>; Wed, 2 Oct 2002 09:55:00 +0200\nReceived: from eecs.berkeley.edu ([63.192.217.110]) by mta7.pltn13.pbi.net\n    (iPlanet Messaging Server 5.1 (built May  7 2001)) with ESMTP id\n    <0H3C00KKSGNKBC@mta7.pltn13.pbi.net> for rpm-list@freshrpms.net;\n    Wed, 02 Oct 2002 00:54:58 -0700 (PDT)\nFrom: Ben Liblit <liblit@eecs.berkeley.edu>\nSubject: alsa-driver.spec tweak for homemade kernels\nTo: rpm-zzzlist@freshrpms.net\nMessage-Id: <3D9AA650.2000909@eecs.berkeley.edu>\nMIME-Version: 1.0\nContent-Type: multipart/mixed; boundary=\"Boundary_(ID_KtnWPrcWHTTzQa7OHxPjiA)\"\nX-Accept-Language: en-us, en\nUser-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.1) Gecko/20020827\nX-Mailscanner: Found to be clean, Found to be clean\nSender: rpm-zzzlist-admin@freshrpms.net\nErrors-To: rpm-zzzlist-admin@freshrpms.net\nX-Beenthere: rpm-zzzlist@freshrpms.net\nX-Mailman-Version: 2.0.11\nPrecedence: bulk\nReply-To: rpm-zzzlist@freshrpms.net\nList-Help: <mailto:rpm-zzzlist-request@freshrpms.net?subject=help>\nList-Post: <mailto:rpm-zzzlist@freshrpms.net>\nList-Subscribe: <http://lists.freshrpms.net/mailman/listinfo/rpm-zzzlist>,\n    <mailto:rpm-list-request@freshrpms.net?subject=subscribe>\nList-Id: Freshrpms RPM discussion list <rpm-zzzlist.freshrpms.net>\nList-Unsubscribe: <http://lists.freshrpms.net/mailman/listinfo/rpm-zzzlist>,\n    <mailto:rpm-list-request@freshrpms.net?subject=unsubscribe>\nList-Archive: <http://lists.freshrpms.net/pipermail/rpm-zzzlist/>\nX-Original-Date: Wed, 02 Oct 2002 00:54:56 -0700\nDate: Wed, 02 Oct 2002 00:54:56 -0700\n\nThis is a multi-part message in MIME format.\n\n--Boundary_(ID_KtnWPrcWHTTzQa7OHxPjiA)\nContent-type: text/plain; charset=us-ascii; format=flowed\nContent-transfer-encoding: 7BIT\n\nI use a mostly Red Hat 8.0 system, but prefer to configure and build my \nkernel by hand.  I'd like to humbly offer a tweak to alsa-driver.spec \nthat helps it build cleanly under such circumstances.  I recognize that \nfreshrpms.net packages are designed with standard Red Hat in mind, \nincluding a standard kernel RPM.  However, I hope that Matthias will \nconsider the tweak small enough to justify its incorporation.\n\nThe diff is attached below.  The first part of the diff contains a \nconditional that checks to see if the expected RPM is installed.  If it \nis, %{karch} is set as before and a new %{krpm} flag is set to 1.  If \nthe expected RPM is not installed, then %{karch} is instead set using \n\"uname -p\", while %{krpm} is left undefined.\n\nThe second part of the diff is simpler.  We only require that \nkernel-source be installed if the kernel itself came from an RPM.  (If \nthe kernel was hand-built, the presumably the user knows enough to have \nretained the sources in the expected place.)\n\nAgain, I realize that I'm operating \"off warrantee\" by not using a Red \nHat kernel RPM.  Matthias, if you think this tweak is reasonable and not \ntoo ugly, I'd love to see you pick it up.  If not, well at least this \nmessage will sit in the archives and may help other folks in the future.\n\n--Boundary_(ID_KtnWPrcWHTTzQa7OHxPjiA)\nContent-type: video/mng; name=diffs\nContent-transfer-encoding: base64\nContent-disposition: inline; filename=diffs\n\nLS0tIGFsc2EtZHJpdmVyLnNwZWMub3JpZwkyMDAyLTEwLTAxIDEzOjExOjQ0LjAwMDAwMDAw\nMCAtMDcwMAorKysgYWxzYS1kcml2ZXIuc3BlYwkyMDAyLTEwLTAyIDAwOjM4OjIyLjAwMDAw\nMDAwMCAtMDcwMApAQCAtOCw3ICs4LDEyIEBACiAlaWYgJSh1bmFtZSAtciB8IGdyZXAgLWMg\nc21wKQogCSV7ZXhwYW5kOiUlZGVmaW5lIGtzbXAgLXNtcH0KICVlbmRpZgotJWRlZmluZQlr\nYXJjaAkJJShycG0gLXEgLS1xZiAnJSV7YXJjaH0nIGtlcm5lbCV7P2tzbXB9LSV7a3ZlcnNp\nb259KQorJWlmICUocnBtIC1xIGtlcm5lbCV7P2tzbXB9LSV7a3ZlcnNpb259ID4vZGV2L251\nbGw7IGVjaG8gJD8pCisJJWRlZmluZQlrYXJjaAkJJSh1bmFtZSAtcCkKKyVlbHNlCisJJWRl\nZmluZSBrcnBtCQkxCisJJWRlZmluZQlrYXJjaAkJJShycG0gLXEgLS1xZiAnJSV7YXJjaH0n\nIGtlcm5lbCV7P2tzbXB9LSV7a3ZlcnNpb259KQorJWVuZGlmCiAlZGVmaW5lCWtyZWx2ZXIJ\nCSUoZWNobyAle2t2ZXJzaW9ufSB8IHRyIC1zICctJyAnXycpCiAKIFN1bW1hcnk6IFRoZSBB\nZHZhbmNlZCBMaW51eCBTb3VuZCBBcmNoaXRlY3R1cmUgKEFMU0EpIGJhc2UgZmlsZXMuCkBA\nIC0yNSw3ICszMCw4IEBACiBCdWlsZFJvb3Q6ICV7X3RtcHBhdGh9LyV7bmFtZX0tJXt2ZXJz\naW9ufS1yb290CiBCdWlsZEFyY2g6ICV7a2FyY2h9CiBSZXF1aXJlczogYWxzYS1rZXJuZWwg\nPSAle3ZlcnNpb259LCAvc2Jpbi9kZXBtb2QKLUJ1aWxkUmVxdWlyZXM6IGtlcm5lbC1zb3Vy\nY2UgPSAle2t2ZXJzaW9ufSwgTUFLRURFVgorJXs/a3JwbTpCdWlsZFJlcXVpcmVzOiBrZXJu\nZWwtc291cmNlID0gJXtrdmVyc2lvbn19CitCdWlsZFJlcXVpcmVzOiBNQUtFREVWCiAKICVk\nZXNjcmlwdGlvbgogVGhlIEFkdmFuY2VkIExpbnV4IFNvdW5kIEFyY2hpdGVjdHVyZSAoQUxT\nQSkgcHJvdmlkZXMgYXVkaW8gYW5kIE1JREkK\n\n--Boundary_(ID_KtnWPrcWHTTzQa7OHxPjiA)--\n\n_______________________________________________\nRPM-List mailing list <RPM-List@freshrpms.net>\nhttp://lists.freshrpms.net/mailman/listinfo/rpm-list\n\n\n"}