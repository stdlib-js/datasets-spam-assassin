{"id":"01634","group":"easy-ham-1","checksum":{"type":"MD5","value":"124f7f456644842860afd1522cd88b55"},"text":"From neugens@libero.it  Fri Aug 23 11:04:42 2002\nReturn-Path: <neugens@libero.it>\nDelivered-To: yyyy@localhost.netnoteinc.com\nReceived: from localhost (localhost [127.0.0.1])\n\tby phobos.labs.netnoteinc.com (Postfix) with ESMTP id BED4A44164\n\tfor <jm@localhost>; Fri, 23 Aug 2002 06:03:50 -0400 (EDT)\nReceived: from phobos [127.0.0.1]\n\tby localhost with IMAP (fetchmail-5.9.0)\n\tfor jm@localhost (single-drop); Fri, 23 Aug 2002 11:03:50 +0100 (IST)\nReceived: from webnote.net (mail.webnote.net [193.120.211.219]) by\n    dogma.slashnull.org (8.11.6/8.11.6) with ESMTP id g7MJiiZ22036 for\n    <jm@jmason.org>; Thu, 22 Aug 2002 20:44:44 +0100\nReceived: from outgoing.securityfocus.com (outgoing2.securityfocus.com\n    [66.38.151.26]) by webnote.net (8.9.3/8.9.3) with ESMTP id UAA06503 for\n    <jm@jmason.org>; Thu, 22 Aug 2002 20:44:51 +0100\nReceived: from lists.securityfocus.com (lists.securityfocus.com\n    [66.38.151.19]) by outgoing.securityfocus.com (Postfix) with QMQP id\n    3B4388F353; Thu, 22 Aug 2002 12:41:59 -0600 (MDT)\nMailing-List: contact secprog-help@securityfocus.com; run by ezmlm\nPrecedence: bulk\nList-Id: <secprog.list-id.securityfocus.com>\nList-Post: <mailto:secprog@securityfocus.com>\nList-Help: <mailto:secprog-help@securityfocus.com>\nList-Unsubscribe: <mailto:secprog-unsubscribe@securityfocus.com>\nList-Subscribe: <mailto:secprog-subscribe@securityfocus.com>\nDelivered-To: mailing list secprog@securityfocus.com\nDelivered-To: moderator for secprog@securityfocus.com\nReceived: (qmail 10062 invoked from network); 22 Aug 2002 17:41:11 -0000\nContent-Type: text/plain; charset=\"us-ascii\"\nFrom: Mario Torre <neugens@libero.it>\nTo: secprog@securityfocus.com\nSubject: Encryption approach to secure web applications\nDate: Thu, 22 Aug 2002 20:15:15 +0200\nUser-Agent: KMail/1.4.1\nMIME-Version: 1.0\nMessage-Id: <200208222015.15926.neugens@libero.it>\nContent-Transfer-Encoding: 8bit\nX-MIME-Autoconverted: from quoted-printable to 8bit by dogma.slashnull.org\n    id g7MJiiZ22036\n\nHi everybody!\n\nI'm writing a web application in java (tomcat + jsp/servlets + database \naccess with postgreSQL).\n\nThis will be released under the GPL and will eventually be useful as a \nframework for other web applications.\n\nThe application main focus is e-commerce, but not limited to that.\n\nI would like to use some form of cryptography to protect data on the \ndatabase, but I have some problem figuring out the right approach.\n\nAbove all, how to store passwords and keys in a shared web server.\n\nA problem that I was unable to solve is how to store keys for \nencryption/decryption. The api that I'm using is the jca (jdk1.4.x), \nand the methods of saving generated keys in keystores fails always. \n\nI can serialize the object, and store in the database, but this is not \nthe most secure approach: this key is needed to decrypt data in the \ndatabase, but the database is accessible from the web application. \nAssuming that I can find a good and secure place where to store the \ndatabase password, I can use a different database with different \nuser... Argh... to complex and doesn't really solve the problem.\n\nWhere I can found good documentation about this topic?\n\nThere is another approach that I would share with the list, something I \nthought that can be of bit interest, but probabily wrong and insecure. \nAfter all, I'm a real beginner in secure programming, and I'm here to \nlearn methods and technics.\n\nFirst of all, I need a secure way to keep database passwords secure, so \nI have to keep them separate from the main server. The right approach \ncould be using a small java bean application that run as normal user \n(not tomcat, so it is not shared with other web services or, worst, the \nnobody user), that has no shell login, but has a default home directory \nor a place where it can hold passwords and keys.\n\nThe web application could then open an ssl connection (could be done in \nthe init method at server startup) to get database passwords. The small \nbean could check via code signature/rmi/whatever else that the source \nis the right one, and handle all the database connections, or give the \ndb connection/password to the main web application.\n\nIn this way, we solve the problem of keeping the keys and passwords in \nshared directories, and also, an attacker should get root/bean user \naccount to read data. This is not perfect, and works only if your \nprovider gives the opportunity to configure a separated java \napplication (that means, really, another server running in the \nbackground).\n\nAny suggestions?\n\nThank you,\nMario Torre\n-- \nPlease avoid sending me Word or PowerPoint attachments.\nSee http://www.fsf.org/philosophy/no-word-attachments.html \n\n"}